{"version":3,"file":"full-width-video.js","mappings":"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CzBA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA;WACA;WACA,kBAAkB,qBAAqB;WACvC,oHAAoH,iDAAiD;WACrK;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC7BA;WACA;WACA;WACA,eAAe,4BAA4B;WAC3C,eAAe;WACf,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA,8CAA8C;;;;;WCA9C;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA,8CAA8C;;WAE9C;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,iCAAiC,mCAAmC;WACpE;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;UEnDA;UACA;UACA;UACA,sGAAsG,yFAAyF;UAC/L","sources":["webpack://resource-blocks/./node_modules/@wordpress/icons/build-module/library/edit.js","webpack://resource-blocks/./node_modules/@wordpress/icons/build-module/library/pencil.js","webpack://resource-blocks/./includes/block-editor/blocks/full-width-video/edit.js","webpack://resource-blocks/./includes/block-editor/blocks/full-width-video/embed-controls.js","webpack://resource-blocks/./includes/block-editor/blocks/full-width-video/embed-loading.js","webpack://resource-blocks/./includes/block-editor/blocks/full-width-video/embed-placeholder.js","webpack://resource-blocks/./includes/block-editor/blocks/full-width-video/embed-preview.js","webpack://resource-blocks/./includes/block-editor/blocks/full-width-video/index.js","webpack://resource-blocks/./includes/block-editor/blocks/full-width-video/save.js","webpack://resource-blocks/./includes/block-editor/blocks/full-width-video/util.js","webpack://resource-blocks/./node_modules/classnames/dedupe.js","webpack://resource-blocks/./node_modules/classnames/index.js","webpack://resource-blocks/./includes/block-editor/blocks/full-width-video/style.scss","webpack://resource-blocks/external window \"lodash\"","webpack://resource-blocks/external window [\"wp\",\"blockEditor\"]","webpack://resource-blocks/external window [\"wp\",\"blocks\"]","webpack://resource-blocks/external window [\"wp\",\"components\"]","webpack://resource-blocks/external window [\"wp\",\"coreData\"]","webpack://resource-blocks/external window [\"wp\",\"data\"]","webpack://resource-blocks/external window [\"wp\",\"element\"]","webpack://resource-blocks/external window [\"wp\",\"i18n\"]","webpack://resource-blocks/external window [\"wp\",\"primitives\"]","webpack://resource-blocks/webpack/bootstrap","webpack://resource-blocks/webpack/runtime/chunk loaded","webpack://resource-blocks/webpack/runtime/compat get default export","webpack://resource-blocks/webpack/runtime/define property getters","webpack://resource-blocks/webpack/runtime/hasOwnProperty shorthand","webpack://resource-blocks/webpack/runtime/make namespace object","webpack://resource-blocks/webpack/runtime/jsonp chunk loading","webpack://resource-blocks/webpack/before-startup","webpack://resource-blocks/webpack/startup","webpack://resource-blocks/webpack/after-startup"],"sourcesContent":["/**\n * Internal dependencies\n */\nimport { default as pencil } from './pencil';\nexport default pencil;\n//# sourceMappingURL=edit.js.map","import { createElement } from \"@wordpress/element\";\n\n/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nconst pencil = createElement(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\"\n}, createElement(Path, {\n  d: \"M20.1 5.1L16.9 2 6.2 12.7l-1.3 4.4 4.5-1.3L20.1 5.1zM4 20.8h8v-1.5H4v1.5z\"\n}));\nexport default pencil;\n//# sourceMappingURL=pencil.js.map","/**\n * Internal dependencies\n */\nimport {\n\tcreateUpgradedEmbedBlock,\n\tgetClassNames,\n\tfallback,\n\tgetAttributesFromPreview,\n\tgetEmbedInfoByProvider,\n} from './util'\nimport EmbedControls from './embed-controls'\nimport { embedContentIcon } from './icons'\nimport EmbedLoading from './embed-loading'\nimport EmbedPlaceholder from './embed-placeholder'\nimport EmbedPreview from './embed-preview'\n\n/**\n * External dependencies\n */\nimport classnames from 'classnames'\n\n/**\n * WordPress dependencies\n */\nimport { __, _x, sprintf } from '@wordpress/i18n'\nimport { useState, useEffect } from '@wordpress/element'\nimport { useDispatch, useSelect } from '@wordpress/data'\nimport { useBlockProps } from '@wordpress/block-editor'\nimport { store as coreStore } from '@wordpress/core-data'\nimport { View } from '@wordpress/primitives'\n\nconst EmbedEdit = (props) => {\n\tconst {\n\t\tattributes: {\n\t\t\tproviderNameSlug,\n\t\t\tpreviewable,\n\t\t\tresponsive,\n\t\t\turl: attributesUrl,\n\t\t},\n\t\tattributes,\n\t\tisSelected,\n\t\tonReplace,\n\t\tsetAttributes,\n\t\tinsertBlocksAfter,\n\t\tonFocus,\n\t} = props\n\n\tconst defaultEmbedInfo = {\n\t\ttitle: _x('Embed', 'block title'),\n\t\ticon: embedContentIcon,\n\t}\n\tconst { icon, title } =\n\tgetEmbedInfoByProvider(providerNameSlug) || defaultEmbedInfo\n\n\tconst [url, setURL] = useState(attributesUrl)\n\tconst [isEditingURL, setIsEditingURL] = useState(false)\n\tconst { invalidateResolution } = useDispatch(coreStore)\n\n\tconst {\n\t\tpreview,\n\t\tfetching,\n\t\tthemeSupportsResponsive,\n\t\tcannotEmbed,\n\t} = useSelect(\n\t\t(select) => {\n\t\t\tconst {\n\t\t\t\tgetEmbedPreview,\n\t\t\t\tisPreviewEmbedFallback,\n\t\t\t\tisRequestingEmbedPreview,\n\t\t\t\tgetThemeSupports,\n\t\t\t} = select(coreStore)\n\t\t\tif (!attributesUrl) {\n\t\t\t\treturn { fetching: false, cannotEmbed: false }\n\t\t\t}\n\n\t\t\tconst embedPreview = getEmbedPreview(attributesUrl)\n\t\t\tconst previewIsFallback = isPreviewEmbedFallback(attributesUrl)\n\n\t\t\t// The external oEmbed provider does not exist. We got no type info and no html.\n\t\t\tconst badEmbedProvider =\n\t\t\t\tembedPreview?.html === false &&\n\t\t\t\tembedPreview?.type === undefined\n\t\t\t// Some WordPress URLs that can't be embedded will cause the API to return\n\t\t\t// a valid JSON response with no HTML and `data.status` set to 404, rather\n\t\t\t// than generating a fallback response as other embeds do.\n\t\t\tconst wordpressCantEmbed = embedPreview?.data?.status === 404\n\t\t\tconst validPreview =\n\t\t\t\t!!embedPreview && !badEmbedProvider && !wordpressCantEmbed\n\t\t\treturn {\n\t\t\t\tpreview: validPreview ? embedPreview : undefined,\n\t\t\t\tfetching: isRequestingEmbedPreview(attributesUrl),\n\t\t\t\tthemeSupportsResponsive: getThemeSupports()[\n\t\t\t\t\t'responsive-embeds'\n\t\t\t\t\t],\n\t\t\t\tcannotEmbed: !validPreview || previewIsFallback,\n\t\t\t}\n\t\t},\n\t\t[attributesUrl]\n\t)\n\n\t/**\n\t * @return {Object} Attributes derived from the preview, merged with the current attributes.\n\t */\n\tconst getMergedAttributes = () => {\n\t\tconst { allowResponsive, className } = attributes\n\t\treturn {\n\t\t\t...attributes,\n\t\t\t...getAttributesFromPreview(\n\t\t\t\tpreview,\n\t\t\t\ttitle,\n\t\t\t\tclassName,\n\t\t\t\tresponsive,\n\t\t\t\tallowResponsive\n\t\t\t),\n\t\t}\n\t}\n\n\tconst toggleResponsive = () => {\n\t\tconst { allowResponsive, className } = attributes\n\t\tconst { html } = preview\n\t\tconst newAllowResponsive = !allowResponsive\n\n\t\tsetAttributes({\n\t\t\tallowResponsive: newAllowResponsive,\n\t\t\tclassName: getClassNames(\n\t\t\t\thtml,\n\t\t\t\tclassName,\n\t\t\t\tresponsive && newAllowResponsive\n\t\t\t),\n\t\t})\n\t}\n\n\tuseEffect(() => {\n\t\tif (!preview?.html || !cannotEmbed || fetching) {\n\t\t\treturn\n\t\t}\n\t\t// At this stage, we're not fetching the preview and know it can't be embedded,\n\t\t// so try removing any trailing slash, and resubmit.\n\t\tconst newURL = attributesUrl.replace(/\\/$/, '')\n\t\tsetURL(newURL)\n\t\tsetIsEditingURL(false)\n\t\tsetAttributes({ url: newURL })\n\t}, [preview?.html, attributesUrl])\n\n\t// Handle incoming preview\n\tuseEffect(() => {\n\t\tif (preview && !isEditingURL) {\n\t\t\t// Even though we set attributes that get derived from the preview,\n\t\t\t// we don't access them directly because for the initial render,\n\t\t\t// the `setAttributes` call will not have taken effect. If we're\n\t\t\t// rendering responsive content, setting the responsive classes\n\t\t\t// after the preview has been rendered can result in unwanted\n\t\t\t// clipping or scrollbars. The `getAttributesFromPreview` function\n\t\t\t// that `getMergedAttributes` uses is memoized so that we're not\n\t\t\t// calculating them on every render.\n\t\t\tsetAttributes(getMergedAttributes())\n\t\t\tif (onReplace) {\n\t\t\t\tconst upgradedBlock = createUpgradedEmbedBlock(\n\t\t\t\t\tprops,\n\t\t\t\t\tgetMergedAttributes()\n\t\t\t\t)\n\n\t\t\t\tif (upgradedBlock) {\n\t\t\t\t\tonReplace(upgradedBlock)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, [preview, isEditingURL])\n\n\tconst blockProps = useBlockProps()\n\n\tif (fetching) {\n\t\treturn (\n\t\t\t<View {...blockProps}>\n\t\t\t\t<EmbedLoading/>\n\t\t\t</View>\n\t\t)\n\t}\n\n\t// translators: %s: type of embed e.g: \"YouTube\", \"Twitter\", etc. \"Embed\" is used when no specific type exists\n\tconst label = sprintf(__('%s URL'), title)\n\n\t// No preview, or we can't embed the current URL, or we've clicked the edit button.\n\tconst showEmbedPlaceholder = !preview || cannotEmbed || isEditingURL\n\n\tif (showEmbedPlaceholder) {\n\t\treturn (\n\t\t\t<View {...blockProps}>\n\t\t\t\t<EmbedPlaceholder\n\t\t\t\t\ticon={icon}\n\t\t\t\t\tlabel={label}\n\t\t\t\t\tonFocus={onFocus}\n\t\t\t\t\tonSubmit={(event) => {\n\t\t\t\t\t\tif (event) {\n\t\t\t\t\t\t\tevent.preventDefault()\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsetIsEditingURL(false)\n\t\t\t\t\t\tsetAttributes({ url })\n\t\t\t\t\t}}\n\t\t\t\t\tvalue={url}\n\t\t\t\t\tcannotEmbed={cannotEmbed}\n\t\t\t\t\tonChange={(event) => setURL(event.target.value)}\n\t\t\t\t\tfallback={() => fallback(url, onReplace)}\n\t\t\t\t\ttryAgain={() => {\n\t\t\t\t\t\tinvalidateResolution('getEmbedPreview', [url])\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</View>\n\t\t)\n\t}\n\n\t// Even though we set attributes that get derived from the preview,\n\t// we don't access them directly because for the initial render,\n\t// the `setAttributes` call will not have taken effect. If we're\n\t// rendering responsive content, setting the responsive classes\n\t// after the preview has been rendered can result in unwanted\n\t// clipping or scrollbars. The `getAttributesFromPreview` function\n\t// that `getMergedAttributes` uses is memoized so that we're not\n\t// calculating them on every render.\n\tconst {\n\t\tcaption,\n\t\ttype,\n\t\tallowResponsive,\n\t\tclassName: classFromPreview,\n\t} = getMergedAttributes()\n\tconst className = classnames(classFromPreview, props.className)\n\n\treturn (\n\t\t<>\n\t\t\t<EmbedControls\n\t\t\t\tshowEditButton={preview && !cannotEmbed}\n\t\t\t\tthemeSupportsResponsive={themeSupportsResponsive}\n\t\t\t\tblockSupportsResponsive={responsive}\n\t\t\t\tallowResponsive={allowResponsive}\n\t\t\t\ttoggleResponsive={toggleResponsive}\n\t\t\t\tswitchBackToURLInput={() => setIsEditingURL(true)}\n\t\t\t/>\n\t\t\t<View {...blockProps}>\n\t\t\t\t<EmbedPreview\n\t\t\t\t\tpreview={preview}\n\t\t\t\t\tpreviewable={previewable}\n\t\t\t\t\tclassName={className}\n\t\t\t\t\turl={url}\n\t\t\t\t\ttype={type}\n\t\t\t\t\tcaption={caption}\n\t\t\t\t\tonCaptionChange={(value) =>\n\t\t\t\t\t\tsetAttributes({ caption: value })\n\t\t\t\t\t}\n\t\t\t\t\tisSelected={isSelected}\n\t\t\t\t\ticon={icon}\n\t\t\t\t\tlabel={label}\n\t\t\t\t\tinsertBlocksAfter={insertBlocksAfter}\n\t\t\t\t/>\n\t\t\t</View>\n\t\t</>\n\t)\n}\n\nexport default EmbedEdit\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n'\nimport {\n\tToolbarButton,\n\tPanelBody,\n\tToggleControl,\n\tToolbarGroup,\n} from '@wordpress/components'\nimport { BlockControls, InspectorControls } from '@wordpress/block-editor'\nimport { edit } from '@wordpress/icons'\n\nfunction getResponsiveHelp (checked) {\n\treturn checked\n\t\t? __(\n\t\t\t'This embed will preserve its aspect ratio when the browser is resized.'\n\t\t)\n\t\t: __(\n\t\t\t'This embed may not preserve its aspect ratio when the browser is resized.'\n\t\t)\n}\n\nconst EmbedControls = ({\n\t\t\t\t\t\t\t\t\t\t\t\t blockSupportsResponsive,\n\t\t\t\t\t\t\t\t\t\t\t\t showEditButton,\n\t\t\t\t\t\t\t\t\t\t\t\t themeSupportsResponsive,\n\t\t\t\t\t\t\t\t\t\t\t\t allowResponsive,\n\t\t\t\t\t\t\t\t\t\t\t\t toggleResponsive,\n\t\t\t\t\t\t\t\t\t\t\t\t switchBackToURLInput,\n\t\t\t\t\t\t\t\t\t\t\t }) => (\n\t<>\n\t\t<BlockControls>\n\t\t\t<ToolbarGroup>\n\t\t\t\t{showEditButton && (\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\tclassName=\"components-toolbar__control\"\n\t\t\t\t\t\tlabel={__('Edit URL')}\n\t\t\t\t\t\ticon={edit}\n\t\t\t\t\t\tonClick={switchBackToURLInput}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</ToolbarGroup>\n\t\t</BlockControls>\n\t\t{themeSupportsResponsive && blockSupportsResponsive && (\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody\n\t\t\t\t\ttitle={__('Media settings')}\n\t\t\t\t\tclassName=\"blocks-responsive\"\n\t\t\t\t>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={__('Resize for smaller devices')}\n\t\t\t\t\t\tchecked={allowResponsive}\n\t\t\t\t\t\thelp={getResponsiveHelp}\n\t\t\t\t\t\tonChange={toggleResponsive}\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t)}\n\t</>\n)\n\nexport default EmbedControls\n","/**\n * WordPress dependencies\n */\nimport { Spinner } from '@wordpress/components'\n\nconst EmbedLoading = () => (\n\t<div className=\"wp-block-embed is-loading\">\n\t\t<Spinner/>\n\t</div>\n)\n\nexport default EmbedLoading\n","/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n'\nimport { Button, Placeholder, ExternalLink } from '@wordpress/components'\nimport { BlockIcon } from '@wordpress/block-editor'\n\nconst EmbedPlaceholder = ({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSubmit,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcannotEmbed,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfallback,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttryAgain,\n\t\t\t\t\t\t\t\t\t\t\t\t\t}) => {\n\treturn (\n\t\t<Placeholder\n\t\t\ticon={<BlockIcon icon={icon} showColors/>}\n\t\t\tlabel={label}\n\t\t\tclassName=\"wp-block-embed\"\n\t\t\tinstructions={__(\n\t\t\t\t'Paste a link to the content you want to display on your site.'\n\t\t\t)}\n\t\t>\n\t\t\t<form onSubmit={onSubmit}>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"url\"\n\t\t\t\t\tvalue={value || ''}\n\t\t\t\t\tclassName=\"components-placeholder__input\"\n\t\t\t\t\taria-label={label}\n\t\t\t\t\tplaceholder={__('Enter URL to embed here…')}\n\t\t\t\t\tonChange={onChange}\n\t\t\t\t/>\n\t\t\t\t<Button variant=\"primary\" type=\"submit\">\n\t\t\t\t\t{_x('Embed', 'button label')}\n\t\t\t\t</Button>\n\t\t\t</form>\n\t\t\t<div className=\"components-placeholder__learn-more\">\n\t\t\t\t<ExternalLink\n\t\t\t\t\thref={__(\n\t\t\t\t\t\t'https://wordpress.org/support/article/embeds/'\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{__('Learn more about embeds')}\n\t\t\t\t</ExternalLink>\n\t\t\t</div>\n\t\t\t{cannotEmbed && (\n\t\t\t\t<div className=\"components-placeholder__error\">\n\t\t\t\t\t<div className=\"components-placeholder__instructions\">\n\t\t\t\t\t\t{__('Sorry, this content could not be embedded.')}\n\t\t\t\t\t</div>\n\t\t\t\t\t<Button variant=\"secondary\" onClick={tryAgain}>\n\t\t\t\t\t\t{_x('Try again', 'button label')}\n\t\t\t\t\t</Button>{' '}\n\t\t\t\t\t<Button variant=\"secondary\" onClick={fallback}>\n\t\t\t\t\t\t{_x('Convert to link', 'button label')}\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</Placeholder>\n\t)\n}\n\nexport default EmbedPlaceholder\n","/**\n * Internal dependencies\n */\nimport { getPhotoHtml } from './util'\n\n/**\n * External dependencies\n */\nimport classnames from 'classnames/dedupe'\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n'\nimport { Placeholder, SandBox } from '@wordpress/components'\nimport { RichText, BlockIcon } from '@wordpress/block-editor'\nimport { Component } from '@wordpress/element'\nimport { createBlock } from '@wordpress/blocks'\n\n/**\n * Internal dependencies\n */\nimport WpEmbedPreview from './wp-embed-preview'\n\nclass EmbedPreview extends Component {\n\tconstructor () {\n\t\tsuper(...arguments)\n\t\tthis.hideOverlay = this.hideOverlay.bind(this)\n\t\tthis.state = {\n\t\t\tinteractive: false,\n\t\t}\n\t}\n\n\tstatic getDerivedStateFromProps (nextProps, state) {\n\t\tif (!nextProps.isSelected && state.interactive) {\n\t\t\t// We only want to change this when the block is not selected, because changing it when\n\t\t\t// the block becomes selected makes the overlap disappear too early. Hiding the overlay\n\t\t\t// happens on mouseup when the overlay is clicked.\n\t\t\treturn { interactive: false }\n\t\t}\n\n\t\treturn null\n\t}\n\n\thideOverlay () {\n\t\t// This is called onMouseUp on the overlay. We can't respond to the `isSelected` prop\n\t\t// changing, because that happens on mouse down, and the overlay immediately disappears,\n\t\t// and the mouse event can end up in the preview content. We can't use onClick on\n\t\t// the overlay to hide it either, because then the editor misses the mouseup event, and\n\t\t// thinks we're multi-selecting blocks.\n\t\tthis.setState({ interactive: true })\n\t}\n\n\trender () {\n\t\tconst {\n\t\t\tpreview,\n\t\t\tpreviewable,\n\t\t\turl,\n\t\t\ttype,\n\t\t\tcaption,\n\t\t\tonCaptionChange,\n\t\t\tisSelected,\n\t\t\tclassName,\n\t\t\ticon,\n\t\t\tlabel,\n\t\t\tinsertBlocksAfter,\n\t\t} = this.props\n\t\tconst { scripts } = preview\n\t\tconst { interactive } = this.state\n\n\t\tconst html = 'photo' === type ? getPhotoHtml(preview) : preview.html\n\t\tconst parsedHost = new URL(url).host.split('.')\n\t\tconst parsedHostBaseUrl = parsedHost\n\t\t\t.splice(parsedHost.length - 2, parsedHost.length - 1)\n\t\t\t.join('.')\n\t\tconst iframeTitle = sprintf(\n\t\t\t// translators: %s: host providing embed content e.g: www.youtube.com\n\t\t\t__('Embedded content from %s'),\n\t\t\tparsedHostBaseUrl\n\t\t)\n\t\tconst sandboxClassnames = classnames(\n\t\t\ttype,\n\t\t\tclassName,\n\t\t\t'wp-block-embed__wrapper'\n\t\t)\n\n\t\t// Disabled because the overlay div doesn't actually have a role or functionality\n\t\t// as far as the user is concerned. We're just catching the first click so that\n\t\t// the block can be selected without interacting with the embed preview that the overlay covers.\n\t\t/* eslint-disable jsx-a11y/no-static-element-interactions */\n\t\tconst embedWrapper =\n\t\t\t'wp-embed' === type ? (\n\t\t\t\t<WpEmbedPreview html={html}/>\n\t\t\t) : (\n\t\t\t\t<div className=\"wp-block-embed__wrapper\">\n\t\t\t\t\t<SandBox\n\t\t\t\t\t\thtml={html}\n\t\t\t\t\t\tscripts={scripts}\n\t\t\t\t\t\ttitle={iframeTitle}\n\t\t\t\t\t\ttype={sandboxClassnames}\n\t\t\t\t\t\tonFocus={this.hideOverlay}\n\t\t\t\t\t/>\n\t\t\t\t\t{!interactive && (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"block-library-embed__interactive-overlay\"\n\t\t\t\t\t\t\tonMouseUp={this.hideOverlay}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)\n\t\t/* eslint-enable jsx-a11y/no-static-element-interactions */\n\n\t\treturn (\n\t\t\t<figure\n\t\t\t\tclassName={classnames(className, 'wp-block-embed', {\n\t\t\t\t\t'is-type-video': 'video' === type,\n\t\t\t\t})}\n\t\t\t>\n\t\t\t\t{previewable ? (\n\t\t\t\t\tembedWrapper\n\t\t\t\t) : (\n\t\t\t\t\t<Placeholder\n\t\t\t\t\t\ticon={<BlockIcon icon={icon} showColors/>}\n\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t>\n\t\t\t\t\t\t<p className=\"components-placeholder__error\">\n\t\t\t\t\t\t\t<a href={url}>{url}</a>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p className=\"components-placeholder__error\">\n\t\t\t\t\t\t\t{sprintf(\n\t\t\t\t\t\t\t\t/* translators: %s: host providing embed content e.g: www.youtube.com */\n\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t'Embedded content from %s can\\'t be previewed in the editor.'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tparsedHostBaseUrl\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</Placeholder>\n\t\t\t\t)}\n\t\t\t\t{(!RichText.isEmpty(caption) || isSelected) && (\n\t\t\t\t\t<RichText\n\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\tplaceholder={__('Add caption')}\n\t\t\t\t\t\tvalue={caption}\n\t\t\t\t\t\tonChange={onCaptionChange}\n\t\t\t\t\t\tinlineToolbar\n\t\t\t\t\t\t__unstableOnSplitAtEnd={() =>\n\t\t\t\t\t\t\tinsertBlocksAfter(createBlock('core/paragraph'))\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</figure>\n\t\t)\n\t}\n}\n\nexport default EmbedPreview\n","/**\n * Registers a new block provided a unique name and an object defining its behavior.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-registration/\n */\nimport { registerBlockType } from '@wordpress/blocks';\n\n/**\n * Lets webpack process CSS, SASS or SCSS files referenced in JavaScript files.\n * All files containing `style` keyword are bundled together. The code used\n * gets applied both to the front of your site and to the editor.\n *\n * @see https://www.npmjs.com/package/@wordpress/scripts#using-css\n */\nimport './style.scss';\n\n/**\n * Internal dependencies\n */\nimport json from './block.json';\nimport edit from './edit';\nimport save from './save';\n\nconst {name, ...settings} = json;\n\n/**\n * Every block starts by registering a new block type definition.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-registration/\n */\nregisterBlockType(name, {\n\t...settings,\n\t/**\n\t * @see ./edit.js\n\t */\n\tedit,\n\n\t/**\n\t * @see ./save.js\n\t */\n\tsave,\n});\n","/**\n * Retrieves the translation of text.\n *\n * @see https://developer.wordpress.org/block-editor/packages/packages-i18n/\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * React hook that is used to mark the block wrapper element.\n * It provides all the necessary props like the class name.\n *\n * @see https://developer.wordpress.org/block-editor/packages/packages-block-editor/#useBlockProps\n */\nimport { useBlockProps } from '@wordpress/block-editor';\n\n/**\n * The save function defines the way in which the different attributes should\n * be combined into the final markup, which is then serialized by the block\n * editor into `post_content`.\n *\n * @see https://developer.wordpress.org/block-editor/developers/block-api/block-edit-save/#save\n *\n * @return {WPElement} Element to render.\n */\nexport default function save() {\n\treturn (\n\t\t<p { ...useBlockProps.save() }>\n\t\t\t{ __(\n\t\t\t\t'Full-width Video – hello from the saved content!',\n\t\t\t\t'full-width-video'\n\t\t\t) }\n\t\t</p>\n\t);\n}\n","/**\n * Internal dependencies\n */\nimport { ASPECT_RATIOS, WP_EMBED_TYPE } from './constants'\n\n/**\n * External dependencies\n */\nimport { kebabCase } from 'lodash'\nimport classnames from 'classnames/dedupe'\nimport memoize from 'memize'\n\n/**\n * WordPress dependencies\n */\nimport { renderToString } from '@wordpress/element'\nimport {\n\tcreateBlock,\n\tgetBlockType,\n\tgetBlockVariations,\n} from '@wordpress/blocks'\n\n/**\n * Internal dependencies\n */\nimport metadata from './block.json'\n\nconst { name: DEFAULT_EMBED_BLOCK } = metadata\n\n/** @typedef {import('@wordpress/blocks').WPBlockVariation} WPBlockVariation */\n\n/**\n * Returns the embed block's information by matching the provided service provider\n *\n * @param {string} provider The embed block's provider\n * @return {WPBlockVariation} The embed block's information\n */\nexport const getEmbedInfoByProvider = (provider) =>\n\tgetBlockVariations(DEFAULT_EMBED_BLOCK)?.find(\n\t\t({ name }) => name === provider\n\t)\n\n/**\n * Returns true if any of the regular expressions match the URL.\n *\n * @param {string} url      The URL to test.\n * @param {Array}  patterns The list of regular expressions to test agains.\n * @return {boolean} True if any of the regular expressions match the URL.\n */\nexport const matchesPatterns = (url, patterns = []) =>\n\tpatterns.some((pattern) => url.match(pattern))\n\n/**\n * Finds the block variation that should be used for the URL,\n * based on the provided URL and the variation's patterns.\n *\n * @param {string} url The URL to test.\n * @return {WPBlockVariation} The block variation that should be used for this URL\n */\nexport const findMoreSuitableBlock = (url) =>\n\tgetBlockVariations(DEFAULT_EMBED_BLOCK)?.find(({ patterns }) =>\n\t\tmatchesPatterns(url, patterns)\n\t)\n\nexport const isFromWordPress = (html) =>\n\thtml && html.includes('class=\"wp-embedded-content\"')\n\nexport const getPhotoHtml = (photo) => {\n\t// 100% width for the preview so it fits nicely into the document, some \"thumbnails\" are\n\t// actually the full size photo. If thumbnails not found, use full image.\n\tconst imageUrl = photo.thumbnail_url || photo.url\n\tconst photoPreview = (\n\t\t<p>\n\t\t\t<img src={imageUrl} alt={photo.title} width=\"100%\"/>\n\t\t</p>\n\t)\n\treturn renderToString(photoPreview)\n}\n\n/**\n * Creates a more suitable embed block based on the passed in props\n * and attributes generated from an embed block's preview.\n *\n * We require `attributesFromPreview` to be generated from the latest attributes\n * and preview, and because of the way the react lifecycle operates, we can't\n * guarantee that the attributes contained in the block's props are the latest\n * versions, so we require that these are generated separately.\n * See `getAttributesFromPreview` in the generated embed edit component.\n *\n * @param {Object} props                   The block's props.\n * @param {Object} [attributesFromPreview] Attributes generated from the block's most up to date preview.\n * @return {Object|undefined} A more suitable embed block if one exists.\n */\nexport const createUpgradedEmbedBlock = (\n\tprops,\n\tattributesFromPreview = {}\n) => {\n\tconst { preview, attributes = {} } = props\n\tconst { url, providerNameSlug, type, ...restAttributes } = attributes\n\n\tif (!url || !getBlockType(DEFAULT_EMBED_BLOCK)) return\n\n\tconst matchedBlock = findMoreSuitableBlock(url)\n\n\t// WordPress blocks can work on multiple sites, and so don't have patterns,\n\t// so if we're in a WordPress block, assume the user has chosen it for a WordPress URL.\n\tconst isCurrentBlockWP =\n\t\tproviderNameSlug === 'wordpress' || type === WP_EMBED_TYPE\n\t// if current block is not WordPress and a more suitable block found\n\t// that is different from the current one, create the new matched block\n\tconst shouldCreateNewBlock =\n\t\t!isCurrentBlockWP &&\n\t\tmatchedBlock &&\n\t\t(matchedBlock.attributes.providerNameSlug !== providerNameSlug ||\n\t\t\t!providerNameSlug)\n\tif (shouldCreateNewBlock) {\n\t\treturn createBlock(DEFAULT_EMBED_BLOCK, {\n\t\t\turl,\n\t\t\t...restAttributes,\n\t\t\t...matchedBlock.attributes,\n\t\t})\n\t}\n\n\tconst wpVariation = getBlockVariations(DEFAULT_EMBED_BLOCK)?.find(\n\t\t({ name }) => name === 'wordpress'\n\t)\n\n\t// We can't match the URL for WordPress embeds, we have to check the HTML instead.\n\tif (\n\t\t!wpVariation ||\n\t\t!preview ||\n\t\t!isFromWordPress(preview.html) ||\n\t\tisCurrentBlockWP\n\t) {\n\t\treturn\n\t}\n\n\t// This is not the WordPress embed block so transform it into one.\n\treturn createBlock(DEFAULT_EMBED_BLOCK, {\n\t\turl,\n\t\t...wpVariation.attributes,\n\t\t// By now we have the preview, but when the new block first renders, it\n\t\t// won't have had all the attributes set, and so won't get the correct\n\t\t// type and it won't render correctly. So, we pass through the current attributes\n\t\t// here so that the initial render works when we switch to the WordPress\n\t\t// block. This only affects the WordPress block because it can't be\n\t\t// rendered in the usual Sandbox (it has a sandbox of its own) and it\n\t\t// relies on the preview to set the correct render type.\n\t\t...attributesFromPreview,\n\t})\n}\n\n/**\n * Removes all previously set aspect ratio related classes and return the rest\n * existing class names.\n *\n * @param {string} existingClassNames Any existing class names.\n * @return {string} The class names without any aspect ratio related class.\n */\nexport const removeAspectRatioClasses = (existingClassNames) => {\n\tif (!existingClassNames) {\n\t\t// Avoids extraneous work and also, by returning the same value as\n\t\t// received, ensures the post is not dirtied by a change of the block\n\t\t// attribute from `undefined` to an emtpy string.\n\t\treturn existingClassNames\n\t}\n\tconst aspectRatioClassNames = ASPECT_RATIOS.reduce(\n\t\t(accumulator, { className }) => {\n\t\t\taccumulator[className] = false\n\t\t\treturn accumulator\n\t\t},\n\t\t{ 'wp-has-aspect-ratio': false }\n\t)\n\treturn classnames(existingClassNames, aspectRatioClassNames)\n}\n\n/**\n * Returns class names with any relevant responsive aspect ratio names.\n *\n * @param {string}  html               The preview HTML that possibly contains an iframe with width and height set.\n * @param {string}  existingClassNames Any existing class names.\n * @param {boolean} allowResponsive    If the responsive class names should be added, or removed.\n * @return {string} Deduped class names.\n */\nexport function getClassNames (\n\thtml,\n\texistingClassNames,\n\tallowResponsive = true\n) {\n\tif (!allowResponsive) {\n\t\treturn removeAspectRatioClasses(existingClassNames)\n\t}\n\n\tconst previewDocument = document.implementation.createHTMLDocument('')\n\tpreviewDocument.body.innerHTML = html\n\tconst iframe = previewDocument.body.querySelector('iframe')\n\n\t// If we have a fixed aspect iframe, and it's a responsive embed block.\n\tif (iframe && iframe.height && iframe.width) {\n\t\tconst aspectRatio = (iframe.width / iframe.height).toFixed(2)\n\t\t// Given the actual aspect ratio, find the widest ratio to support it.\n\t\tfor (\n\t\t\tlet ratioIndex = 0;\n\t\t\tratioIndex < ASPECT_RATIOS.length;\n\t\t\tratioIndex++\n\t\t) {\n\t\t\tconst potentialRatio = ASPECT_RATIOS[ratioIndex]\n\t\t\tif (aspectRatio >= potentialRatio.ratio) {\n\t\t\t\t// Evaluate the difference between actual aspect ratio and closest match.\n\t\t\t\t// If the difference is too big, do not scale the embed according to aspect ratio.\n\t\t\t\tconst ratioDiff = aspectRatio - potentialRatio.ratio\n\t\t\t\tif (ratioDiff > 0.1) {\n\t\t\t\t\t// No close aspect ratio match found.\n\t\t\t\t\treturn removeAspectRatioClasses(existingClassNames)\n\t\t\t\t}\n\t\t\t\t// Close aspect ratio match found.\n\t\t\t\treturn classnames(\n\t\t\t\t\tremoveAspectRatioClasses(existingClassNames),\n\t\t\t\t\tpotentialRatio.className,\n\t\t\t\t\t'wp-has-aspect-ratio'\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\t}\n\n\treturn existingClassNames\n}\n\n/**\n * Fallback behaviour for unembeddable URLs.\n * Creates a paragraph block containing a link to the URL, and calls `onReplace`.\n *\n * @param {string}   url       The URL that could not be embedded.\n * @param {Function} onReplace Function to call with the created fallback block.\n */\nexport function fallback (url, onReplace) {\n\tconst link = <a href={url}>{url}</a>\n\tonReplace(\n\t\tcreateBlock('core/paragraph', { content: renderToString(link) })\n\t)\n}\n\n/***\n * Gets block attributes based on the preview and responsive state.\n *\n * @param {Object} preview The preview data.\n * @param {string} title The block's title, e.g. Twitter.\n * @param {Object} currentClassNames The block's current class names.\n * @param {boolean} isResponsive Boolean indicating if the block supports responsive content.\n * @param {boolean} allowResponsive Apply responsive classes to fixed size content.\n * @return {Object} Attributes and values.\n */\nexport const getAttributesFromPreview = memoize(\n\t(\n\t\tpreview,\n\t\ttitle,\n\t\tcurrentClassNames,\n\t\tisResponsive,\n\t\tallowResponsive = true\n\t) => {\n\t\tif (!preview) {\n\t\t\treturn {}\n\t\t}\n\n\t\tconst attributes = {}\n\t\t// Some plugins only return HTML with no type info, so default this to 'rich'.\n\t\tlet { type = 'rich' } = preview\n\t\t// If we got a provider name from the API, use it for the slug, otherwise we use the title,\n\t\t// because not all embed code gives us a provider name.\n\t\tconst { html, provider_name: providerName } = preview\n\t\tconst providerNameSlug = kebabCase(\n\t\t\t(providerName || title).toLowerCase()\n\t\t)\n\n\t\tif (isFromWordPress(html)) {\n\t\t\ttype = WP_EMBED_TYPE\n\t\t}\n\n\t\tif (html || 'photo' === type) {\n\t\t\tattributes.type = type\n\t\t\tattributes.providerNameSlug = providerNameSlug\n\t\t}\n\n\t\tattributes.className = getClassNames(\n\t\t\thtml,\n\t\t\tcurrentClassNames,\n\t\t\tisResponsive && allowResponsive\n\t\t)\n\n\t\treturn attributes\n\t}\n)\n","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar classNames = (function () {\n\t\t// don't inherit from Object so we can skip hasOwnProperty check later\n\t\t// http://stackoverflow.com/questions/15518328/creating-js-object-with-object-createnull#answer-21079232\n\t\tfunction StorageObject() {}\n\t\tStorageObject.prototype = Object.create(null);\n\n\t\tfunction _parseArray (resultSet, array) {\n\t\t\tvar length = array.length;\n\n\t\t\tfor (var i = 0; i < length; ++i) {\n\t\t\t\t_parse(resultSet, array[i]);\n\t\t\t}\n\t\t}\n\n\t\tvar hasOwn = {}.hasOwnProperty;\n\n\t\tfunction _parseNumber (resultSet, num) {\n\t\t\tresultSet[num] = true;\n\t\t}\n\n\t\tfunction _parseObject (resultSet, object) {\n\t\t\tif (object.toString === Object.prototype.toString) {\n\t\t\t\tfor (var k in object) {\n\t\t\t\t\tif (hasOwn.call(object, k)) {\n\t\t\t\t\t\t// set value to false instead of deleting it to avoid changing object structure\n\t\t\t\t\t\t// https://www.smashingmagazine.com/2012/11/writing-fast-memory-efficient-javascript/#de-referencing-misconceptions\n\t\t\t\t\t\tresultSet[k] = !!object[k];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tresultSet[object.toString()] = true;\n\t\t\t}\n\t\t}\n\n\t\tvar SPACE = /\\s+/;\n\t\tfunction _parseString (resultSet, str) {\n\t\t\tvar array = str.split(SPACE);\n\t\t\tvar length = array.length;\n\n\t\t\tfor (var i = 0; i < length; ++i) {\n\t\t\t\tresultSet[array[i]] = true;\n\t\t\t}\n\t\t}\n\n\t\tfunction _parse (resultSet, arg) {\n\t\t\tif (!arg) return;\n\t\t\tvar argType = typeof arg;\n\n\t\t\t// 'foo bar'\n\t\t\tif (argType === 'string') {\n\t\t\t\t_parseString(resultSet, arg);\n\n\t\t\t// ['foo', 'bar', ...]\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\t_parseArray(resultSet, arg);\n\n\t\t\t// { 'foo': true, ... }\n\t\t\t} else if (argType === 'object') {\n\t\t\t\t_parseObject(resultSet, arg);\n\n\t\t\t// '130'\n\t\t\t} else if (argType === 'number') {\n\t\t\t\t_parseNumber(resultSet, arg);\n\t\t\t}\n\t\t}\n\n\t\tfunction _classNames () {\n\t\t\t// don't leak arguments\n\t\t\t// https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n\t\t\tvar len = arguments.length;\n\t\t\tvar args = Array(len);\n\t\t\tfor (var i = 0; i < len; i++) {\n\t\t\t\targs[i] = arguments[i];\n\t\t\t}\n\n\t\t\tvar classSet = new StorageObject();\n\t\t\t_parseArray(classSet, args);\n\n\t\t\tvar list = [];\n\n\t\t\tfor (var k in classSet) {\n\t\t\t\tif (classSet[k]) {\n\t\t\t\t\tlist.push(k)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn list.join(' ');\n\t\t}\n\n\t\treturn _classNames;\n\t})();\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"lodash\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"primitives\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"full-width-video\": 0,\n\t\"./style-full-width-video\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkresource_blocks\"] = self[\"webpackChunkresource_blocks\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"./style-full-width-video\"], function() { return __webpack_require__(\"./includes/block-editor/blocks/full-width-video/index.js\"); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["createUpgradedEmbedBlock","getClassNames","fallback","getAttributesFromPreview","getEmbedInfoByProvider","EmbedControls","embedContentIcon","EmbedLoading","EmbedPlaceholder","EmbedPreview","classnames","__","_x","sprintf","useState","useEffect","useDispatch","useSelect","useBlockProps","store","coreStore","View","EmbedEdit","props","attributes","providerNameSlug","previewable","responsive","url","attributesUrl","isSelected","onReplace","setAttributes","insertBlocksAfter","onFocus","defaultEmbedInfo","title","icon","setURL","isEditingURL","setIsEditingURL","invalidateResolution","preview","fetching","themeSupportsResponsive","cannotEmbed","select","getEmbedPreview","isPreviewEmbedFallback","isRequestingEmbedPreview","getThemeSupports","embedPreview","previewIsFallback","badEmbedProvider","html","type","undefined","wordpressCantEmbed","data","status","validPreview","getMergedAttributes","allowResponsive","className","toggleResponsive","newAllowResponsive","newURL","replace","upgradedBlock","blockProps","label","showEmbedPlaceholder","event","preventDefault","target","value","caption","classFromPreview","ToolbarButton","PanelBody","ToggleControl","ToolbarGroup","BlockControls","InspectorControls","edit","getResponsiveHelp","checked","blockSupportsResponsive","showEditButton","switchBackToURLInput","Spinner","Button","Placeholder","ExternalLink","BlockIcon","onSubmit","onChange","tryAgain","getPhotoHtml","SandBox","RichText","Component","createBlock","WpEmbedPreview","constructor","arguments","hideOverlay","bind","state","interactive","getDerivedStateFromProps","nextProps","setState","render","onCaptionChange","scripts","parsedHost","URL","host","split","parsedHostBaseUrl","splice","length","join","iframeTitle","sandboxClassnames","embedWrapper","isEmpty","registerBlockType","json","save","name","settings","ASPECT_RATIOS","WP_EMBED_TYPE","kebabCase","memoize","renderToString","getBlockType","getBlockVariations","metadata","DEFAULT_EMBED_BLOCK","provider","find","matchesPatterns","patterns","some","pattern","match","findMoreSuitableBlock","isFromWordPress","includes","photo","imageUrl","thumbnail_url","photoPreview","attributesFromPreview","restAttributes","matchedBlock","isCurrentBlockWP","shouldCreateNewBlock","wpVariation","removeAspectRatioClasses","existingClassNames","aspectRatioClassNames","reduce","accumulator","previewDocument","document","implementation","createHTMLDocument","body","innerHTML","iframe","querySelector","height","width","aspectRatio","toFixed","ratioIndex","potentialRatio","ratio","ratioDiff","link","content","currentClassNames","isResponsive","provider_name","providerName","toLowerCase"],"sourceRoot":""}
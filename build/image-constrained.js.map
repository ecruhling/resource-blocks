{"version":3,"file":"image-constrained.js","mappings":"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A;UACA;;;;;WCzBA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA;WACA;WACA,kBAAkB,qBAAqB;WACvC,oHAAoH,iDAAiD;WACrK;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC7BA;WACA;WACA;WACA,eAAe,4BAA4B;WAC3C,eAAe;WACf,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA,8CAA8C;;;;;WCA9C;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA,8CAA8C;;WAE9C;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,iCAAiC,mCAAmC;WACpE;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;UEnDA;UACA;UACA;UACA,uGAAuG,0FAA0F;UACjM","sources":["webpack://resource-blocks/./node_modules/@wordpress/icons/build-module/library/overlay-text.js","webpack://resource-blocks/./node_modules/@wordpress/icons/build-module/library/upload.js","webpack://resource-blocks/./includes/block-editor/blocks/image-constrained/edit.js","webpack://resource-blocks/./includes/block-editor/blocks/image-constrained/image.js","webpack://resource-blocks/./includes/block-editor/blocks/image-constrained/index.js","webpack://resource-blocks/./includes/block-editor/blocks/image-constrained/save.js","webpack://resource-blocks/./includes/block-editor/blocks/lib/check-dimensions.js","webpack://resource-blocks/./includes/icons/icons.js","webpack://resource-blocks/./node_modules/classnames/index.js","webpack://resource-blocks/./includes/block-editor/blocks/image-constrained/editor.scss","webpack://resource-blocks/./includes/block-editor/blocks/image-constrained/style.scss","webpack://resource-blocks/external window \"lodash\"","webpack://resource-blocks/external window [\"wp\",\"blob\"]","webpack://resource-blocks/external window [\"wp\",\"blockEditor\"]","webpack://resource-blocks/external window [\"wp\",\"blocks\"]","webpack://resource-blocks/external window [\"wp\",\"components\"]","webpack://resource-blocks/external window [\"wp\",\"compose\"]","webpack://resource-blocks/external window [\"wp\",\"coreData\"]","webpack://resource-blocks/external window [\"wp\",\"data\"]","webpack://resource-blocks/external window [\"wp\",\"element\"]","webpack://resource-blocks/external window [\"wp\",\"i18n\"]","webpack://resource-blocks/external window [\"wp\",\"notices\"]","webpack://resource-blocks/external window [\"wp\",\"primitives\"]","webpack://resource-blocks/external window [\"wp\",\"url\"]","webpack://resource-blocks/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://resource-blocks/webpack/bootstrap","webpack://resource-blocks/webpack/runtime/chunk loaded","webpack://resource-blocks/webpack/runtime/compat get default export","webpack://resource-blocks/webpack/runtime/define property getters","webpack://resource-blocks/webpack/runtime/hasOwnProperty shorthand","webpack://resource-blocks/webpack/runtime/make namespace object","webpack://resource-blocks/webpack/runtime/jsonp chunk loading","webpack://resource-blocks/webpack/before-startup","webpack://resource-blocks/webpack/startup","webpack://resource-blocks/webpack/after-startup"],"sourcesContent":["import { createElement } from \"@wordpress/element\";\n\n/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nconst overlayText = createElement(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\"\n}, createElement(Path, {\n  d: \"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12-9.8c.4 0 .8-.3.9-.7l1.1-3h3.6l.5 1.7h1.9L13 9h-2.2l-3.4 9.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h12c.3 0 .5.2.5.5v12H20V6c0-1.1-.9-2-2-2zm-6 7l1.4 3.9h-2.7L12 11z\"\n}));\nexport default overlayText;\n//# sourceMappingURL=overlay-text.js.map","import { createElement } from \"@wordpress/element\";\n\n/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nconst upload = createElement(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\"\n}, createElement(Path, {\n  d: \"M18.5 15v3.5H13V6.7l4.5 4.1 1-1.1-6.2-5.8-5.8 5.8 1 1.1 4-4v11.7h-6V15H4v5h16v-5z\"\n}));\nexport default upload;\n//# sourceMappingURL=upload.js.map","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { get, omit, pick } from 'lodash';\n\n/**\n * WordPress dependencies.\n */\nimport { getBlobByURL, isBlobURL } from '@wordpress/blob';\nimport {\n\tMediaPlaceholder,\n\tuseBlockProps,\n\tInspectorControls,\n\tstore as blockEditorStore,\n\tBlockIcon,\n} from '@wordpress/block-editor';\nimport {\n\tPanelBody,\n\tPanelRow,\n\tTextControl,\n\tToggleControl,\n\twithNotices,\n\tModal,\n} from '@wordpress/components';\nimport { useEffect, useRef, useState } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { __, sprintf } from '@wordpress/i18n';\nimport icons from '../../../icons/icons';\n\n/**\n * Internal dependencies.\n */\nimport Image from './image';\n\n/**\n * Import editor styles.\n */\nimport './editor.scss';\n\nexport const pickRelevantMediaFiles = ( image ) => {\n\tconst imageProps = pick( image, [ 'alt', 'id', 'link', 'caption' ] );\n\n\timageProps.width =\n\t\tget( image, [ 'media_details', 'width' ] ) || image.width;\n\n\timageProps.height =\n\t\tget( image, [ 'media_details', 'height' ] ) || image.height;\n\n\timageProps.url =\n\t\tget( image, [ 'sizes', 'full', 'url' ] ) ||\n\t\tget( image, [ 'media_details', 'sizes', 'full', 'source_url' ] ) ||\n\t\timage.url;\n\n\treturn imageProps;\n};\n\n/**\n * Is the URL a temporary blob URL? A blob URL is one that is used temporarily\n * while the image is being uploaded and will not have an id yet allocated.\n *\n * @param {number=} id  The id of the image.\n * @param {string=} url The url of the image.\n *\n * @return {boolean} Is the URL a Blob URL?\n */\nconst isTemporaryImage = ( id, url ) => ! id && isBlobURL( url );\n\n/**\n * Checks if a media attachment object has been \"destroyed\",\n * that is, removed from the media library. The core Media Library\n * adds a `destroyed` property to a deleted attachment object in the media collection.\n *\n * @param {string} id The attachment id.\n *\n * @return {boolean} Whether the image has been destroyed.\n */\nexport function isMediaDestroyed( id ) {\n\tconst attachment = wp?.media?.attachment( id ) || {};\n\treturn attachment.destroyed;\n}\n\n/**\n * Edit function.\n *\n * @param {WPElement} root0\n * @param {WPElement} root0.attributes\n * @param {WPElement} root0.setAttributes\n *\n * @return {WPElement} Element to render.\n */\n\nexport function Edit( {\n\tattributes,\n\tsetAttributes,\n\tisSelected,\n\tclassName,\n\tnoticeUI,\n\tinsertBlocksAfter,\n\tnoticeOperations,\n\tonReplace,\n\tcontext,\n\tclientId,\n} ) {\n\tconst {\n\t\turl = '',\n\t\talt,\n\t\tcaption,\n\t\talign,\n\t\tshowCaption,\n\t\talignCaption,\n\t\tid,\n\t\timageWidthInsideContainer,\n\t\tdesignWidth,\n\t\tdesignHeight,\n\t} = attributes;\n\n\tconst [ temporaryURL, setTemporaryURL ] = useState();\n\n\tconst altRef = useRef();\n\n\tuseEffect( () => {\n\t\taltRef.current = alt;\n\t}, [ alt ] );\n\n\tconst captionRef = useRef();\n\tuseEffect( () => {\n\t\tcaptionRef.current = caption;\n\t}, [ caption ] );\n\n\tconst ref = useRef();\n\n\tconst { mediaUpload } = useSelect( ( select ) => {\n\t\tconst { getSettings } = select( blockEditorStore );\n\t\treturn pick( getSettings(), [ 'mediaUpload' ] );\n\t}, [] );\n\n\t// A callback passed to MediaUpload,\n\t// fired when the media modal closes.\n\tfunction onCloseModal() {\n\t\tif ( isMediaDestroyed( attributes?.id ) ) {\n\t\t\tsetAttributes( {\n\t\t\t\turl: undefined,\n\t\t\t\tid: undefined,\n\t\t\t} );\n\t\t}\n\t}\n\n\t/*\n\t\t Runs an error callback if the image does not load.\n\t\t If the error callback is triggered, we infer that that image\n\t\t has been deleted.\n\t*/\n\tfunction onImageError( isReplaced = false ) {\n\t\t// If the image block was not replaced with an embed,\n\t\t// clear the attributes and trigger the placeholder.\n\t\tif ( ! isReplaced ) {\n\t\t\tsetAttributes( {\n\t\t\t\turl: undefined,\n\t\t\t\tid: undefined,\n\t\t\t} );\n\t\t}\n\t}\n\n\tfunction onSetDesignWidth( value ) {\n\t\tsetAttributes( { designWidth: value } );\n\t}\n\n\tfunction onSetDesignHeight( value ) {\n\t\tsetAttributes( { designHeight: value } );\n\t}\n\n\tfunction onSetImageWidthInsideContainer( value ) {\n\t\tsetAttributes( { imageWidthInsideContainer: value } );\n\t}\n\n\tconst mediaPreview = !! url && (\n\t\t<img\n\t\t\talt={ __( 'Edit image' ) }\n\t\t\ttitle={ __( 'Edit image' ) }\n\t\t\tclassName={ 'edit-image-preview' }\n\t\t\tsrc={ url }\n\t\t/>\n\t);\n\n\tconst classes = classnames( className, 'size-full', {\n\t\t[ `align${ align }` ]: align,\n\t\t'is-transient': temporaryURL,\n\t\t[ `align-caption-${ alignCaption }` ]: alignCaption,\n\t\t[ `has-${ showCaption ? 'caption' : 'no-caption' }` ]: showCaption,\n\t} );\n\n\tconst blockProps = useBlockProps( {\n\t\tref,\n\t\tclassName: classes,\n\t} );\n\n\tconst [ modalIsOpen, setIsOpen ] = useState( false );\n\n\t// create nice image height / width instructions.\n\tlet heightWidthInstructions = '';\n\n\tif ( designHeight || designWidth ) {\n\t\tif ( designHeight ) {\n\t\t\theightWidthInstructions =\n\t\t\t\t'Required image size is ' + designHeight + 'px tall.';\n\t\t}\n\t\tif ( designWidth ) {\n\t\t\theightWidthInstructions =\n\t\t\t\t'Required image size is ' + designWidth + 'px wide.';\n\t\t}\n\t\tif ( designHeight && designWidth ) {\n\t\t\theightWidthInstructions =\n\t\t\t\t'Required image size is ' +\n\t\t\t\tdesignWidth +\n\t\t\t\t'px wide by ' +\n\t\t\t\tdesignHeight +\n\t\t\t\t'px tall.';\n\t\t}\n\t}\n\n\tfunction onUploadError( message ) {\n\t\tnoticeOperations.removeAllNotices();\n\t\tnoticeOperations.createErrorNotice( message );\n\t\tsetAttributes( {\n\t\t\tsrc: undefined,\n\t\t\tid: undefined,\n\t\t\turl: undefined,\n\t\t} );\n\t\tsetTemporaryURL( undefined );\n\t}\n\n\tfunction onSelectImage( media ) {\n\t\tif ( ! media || ! media.url ) {\n\t\t\tsetAttributes( {\n\t\t\t\turl: undefined,\n\t\t\t\talt: undefined,\n\t\t\t\tid: undefined,\n\t\t\t\ttitle: undefined,\n\t\t\t\tcaption: undefined,\n\t\t\t} );\n\n\t\t\treturn;\n\t\t}\n\n\t\tif ( isBlobURL( media.url ) ) {\n\t\t\tsetTemporaryURL( media.url );\n\t\t\treturn;\n\t\t}\n\n\t\tsetTemporaryURL();\n\n\t\tlet mediaAttributes = pickRelevantMediaFiles( media );\n\n\t\t// Check for width.\n\t\tif ( '' !== designWidth ) {\n\t\t\tif (\n\t\t\t\tparseInt( mediaAttributes.width ) !== parseInt( designWidth )\n\t\t\t) {\n\t\t\t\topenModal();\n\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// Check for height.\n\t\tif ( '' !== designHeight ) {\n\t\t\tif (\n\t\t\t\tparseInt( mediaAttributes.height ) !== parseInt( designHeight )\n\t\t\t) {\n\t\t\t\topenModal();\n\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// If a caption text was meanwhile written by the user,\n\t\t// make sure the text is not overwritten by empty captions.\n\t\tif ( captionRef.current && ! get( mediaAttributes, [ 'caption' ] ) ) {\n\t\t\tmediaAttributes = omit( mediaAttributes, [ 'caption' ] );\n\t\t}\n\n\t\t// Check if default link setting should be used.\n\t\tlet linkDestination = attributes.linkDestination;\n\t\tif ( ! linkDestination ) {\n\t\t\t// Use the WordPress option to determine the proper default.\n\t\t\t// The constants used in Gutenberg do not match WP options so a little more complicated than ideal.\n\t\t\t// TODO: fix this in a follow up PR, requires updating media-text and ui component.\n\t\t\tswitch ( wp?.media?.view?.settings?.defaultProps?.link || 'none' ) {\n\t\t\t\tcase 'file':\n\t\t\t\tcase 'media':\n\t\t\t\t\tlinkDestination = 'media';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'post':\n\t\t\t\tcase 'attachment':\n\t\t\t\t\tlinkDestination = 'attachment';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'custom':\n\t\t\t\t\tlinkDestination = 'custom';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'none':\n\t\t\t\t\tlinkDestination = 'none';\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t// Check if the image is linked to its media.\n\t\tlet href;\n\t\tswitch ( linkDestination ) {\n\t\t\tcase 'media':\n\t\t\t\thref = media.url;\n\t\t\t\tbreak;\n\t\t\tcase 'attachment':\n\t\t\t\thref = media.link;\n\t\t\t\tbreak;\n\t\t}\n\t\tmediaAttributes.href = href;\n\n\t\tsetAttributes( {\n\t\t\t...mediaAttributes,\n\t\t\tlinkDestination,\n\t\t} );\n\t}\n\n\tfunction openModal() {\n\t\tsetIsOpen( true );\n\t}\n\n\tfunction closeModal() {\n\t\tsetIsOpen( false );\n\t}\n\n\tlet isTemp = isTemporaryImage( id, url );\n\n\t// Upload a temporary image on mount.\n\tuseEffect( () => {\n\t\tif ( ! isTemp ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst file = getBlobByURL( url );\n\n\t\tif ( file ) {\n\t\t\tmediaUpload( {\n\t\t\t\tfilesList: [ file ],\n\t\t\t\tonFileChange: ( [ img ] ) => {\n\t\t\t\t\tonSelectImage( img );\n\t\t\t\t},\n\t\t\t\tallowedTypes: [ 'image' ],\n\t\t\t\tonError: ( message ) => {\n\t\t\t\t\tisTemp = false;\n\t\t\t\t\tonUploadError( message );\n\t\t\t\t},\n\t\t\t} );\n\t\t}\n\t}, [] );\n\n\tconst styles = imageWidthInsideContainer\n\t\t? { style: { width: imageWidthInsideContainer } }\n\t\t: {};\n\n\treturn (\n\t\t<>\n\t\t\t<figure { ...blockProps } { ...styles }>\n\t\t\t\t{ ( temporaryURL || url ) && (\n\t\t\t\t\t<Image\n\t\t\t\t\t\ttemporaryURL={ temporaryURL }\n\t\t\t\t\t\tattributes={ attributes }\n\t\t\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\t\t\tisSelected={ isSelected }\n\t\t\t\t\t\tinsertBlocksAfter={ insertBlocksAfter }\n\t\t\t\t\t\tonReplace={ onReplace }\n\t\t\t\t\t\tonSelectImage={ onSelectImage }\n\t\t\t\t\t\tonUploadError={ onUploadError }\n\t\t\t\t\t\tcontainerRef={ ref }\n\t\t\t\t\t\tcontext={ context }\n\t\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\t\tonCloseModal={ onCloseModal }\n\t\t\t\t\t\tonImageLoadError={ onImageError }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ modalIsOpen && (\n\t\t\t\t\t<Modal\n\t\t\t\t\t\tisOpen={ modalIsOpen }\n\t\t\t\t\t\tonRequestClose={ closeModal }\n\t\t\t\t\t\tcontentLabel=\"Error\"\n\t\t\t\t\t\ttitle=\"Error\"\n\t\t\t\t\t>\n\t\t\t\t\t\tImage must be { designWidth }px wide.\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tImage must be { designHeight }px tall.\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tChoose another image.\n\t\t\t\t\t</Modal>\n\t\t\t\t) }\n\t\t\t\t<MediaPlaceholder\n\t\t\t\t\ticon={ <BlockIcon icon={ icons.single_image } /> }\n\t\t\t\t\tmultiple={ false }\n\t\t\t\t\tlabels={ {\n\t\t\t\t\t\ttitle: __( 'Image [Size Constrained]' ),\n\t\t\t\t\t\tinstructions: sprintf(\n\t\t\t\t\t\t\t/* translators: %1$s: designWidth %2$s: designHeight */\n\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t'Upload an image file, or pick one from the media library. %1$s'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\theightWidthInstructions\n\t\t\t\t\t\t),\n\t\t\t\t\t} }\n\t\t\t\t\tdisableDropZone={ true }\n\t\t\t\t\tonSelect={ onSelectImage }\n\t\t\t\t\tnotices={ noticeUI }\n\t\t\t\t\tonError={ onUploadError }\n\t\t\t\t\tonClose={ onCloseModal }\n\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\tallowedTypes={ [ 'image' ] }\n\t\t\t\t\tvalue={ { id } }\n\t\t\t\t\tmediaPreview={ mediaPreview }\n\t\t\t\t\tdisableMediaButtons={ temporaryURL || url }\n\t\t\t\t/>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Image attributes' ) }>\n\t\t\t\t\t\t{ ( temporaryURL || url ) && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<PanelRow\n\t\t\t\t\t\t\t\t\tclassName={ 'image-attributes-heading' }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tImage caption\n\t\t\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\t\t\tlabel=\"Display Image Caption?\"\n\t\t\t\t\t\t\t\t\t\thelp={\n\t\t\t\t\t\t\t\t\t\t\tshowCaption\n\t\t\t\t\t\t\t\t\t\t\t\t? 'Display the image caption.'\n\t\t\t\t\t\t\t\t\t\t\t\t: 'Do not display the image caption.'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tchecked={ showCaption }\n\t\t\t\t\t\t\t\t\t\tonChange={ ( value ) => {\n\t\t\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\t\t\tshowCaption: value,\n\t\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<PanelRow className={ 'image-attributes-heading' }>\n\t\t\t\t\t\t\tRequired image size (in pixels)\n\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\tlabel={ __( 'Width (px)' ) }\n\t\t\t\t\t\t\t\tvalue={ designWidth || '' }\n\t\t\t\t\t\t\t\tonChange={ onSetDesignWidth }\n\t\t\t\t\t\t\t\ttype={ 'number' }\n\t\t\t\t\t\t\t\tclassName={ 'image-sizing-text-control' }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\tlabel={ __( 'Height (px)' ) }\n\t\t\t\t\t\t\t\tvalue={ designHeight || '' }\n\t\t\t\t\t\t\t\tonChange={ onSetDesignHeight }\n\t\t\t\t\t\t\t\ttype={ 'number' }\n\t\t\t\t\t\t\t\tclassName={ 'image-sizing-text-control' }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t\t<PanelRow className={ 'image-attributes-heading' }>\n\t\t\t\t\t\t\tImage container width (figure)\n\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\tlabel={ __( 'Width (auto, %, px, rem, etc.)' ) }\n\t\t\t\t\t\t\t\tvalue={ imageWidthInsideContainer || '' }\n\t\t\t\t\t\t\t\tonChange={ onSetImageWidthInsideContainer }\n\t\t\t\t\t\t\t\tclassName={ 'image-attributes-text-control' }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t</figure>\n\t\t</>\n\t);\n}\n\nexport default withNotices( Edit );\n","/**\n * External dependencies.\n */\nimport { pick } from 'lodash';\n\n/**\n * WordPress dependencies.\n */\nimport { isBlobURL } from '@wordpress/blob';\nimport {\n\tFill,\n\tExternalLink,\n\tPanelBody,\n\tSpinner,\n\tTextareaControl,\n\tTextControl,\n\tToolbarButton,\n} from '@wordpress/components';\nimport { usePrevious } from '@wordpress/compose';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tBlockControls,\n\tInspectorControls,\n\tRichText,\n\t// eslint-disable-next-line @wordpress/no-unsafe-wp-apis\n\t__experimentalImageURLInputUI as ImageURLInputUI,\n\tMediaReplaceFlow,\n\tstore as blockEditorStore,\n\tBlockAlignmentControl,\n\tAlignmentToolbar,\n} from '@wordpress/block-editor';\nimport { useEffect, useState, useRef } from '@wordpress/element';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { getFilename } from '@wordpress/url';\nimport { createBlock, switchToBlockType } from '@wordpress/blocks';\nimport { overlayText, upload } from '@wordpress/icons';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies.\n */\nimport { isMediaDestroyed } from './edit';\n\nexport default function Image( {\n\ttemporaryURL,\n\tattributes: {\n\t\turl = '',\n\t\talt,\n\t\tcaption,\n\t\talign,\n\t\talignCaption,\n\t\tid,\n\t\thref,\n\t\trel,\n\t\tlinkClass,\n\t\tlinkDestination,\n\t\ttitle,\n\t\twidth,\n\t\theight,\n\t\tdesignWidth,\n\t\tdesignHeight,\n\t\tlinkTarget,\n\t},\n\tsetAttributes,\n\tisSelected,\n\tinsertBlocksAfter,\n\tonCloseModal,\n\tonSelectImage,\n\tonSelectURL,\n\tonUploadError,\n\tclientId,\n\tonImageLoadError,\n} ) {\n\tconst imageRef = useRef();\n\tconst captionRef = useRef();\n\tconst prevUrl = usePrevious( url );\n\tconst { getBlock } = useSelect( blockEditorStore, [] );\n\n\tconst { image } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getMedia } = select( coreStore );\n\t\t\treturn {\n\t\t\t\timage:\n\t\t\t\t\tid && isSelected\n\t\t\t\t\t\t? getMedia( id, { context: 'view' } )\n\t\t\t\t\t\t: null,\n\t\t\t};\n\t\t},\n\t\t[ id, isSelected ]\n\t);\n\n\tconst { canInsertCover, mediaUpload } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetBlockRootClientId,\n\t\t\t\tgetSettings,\n\t\t\t\tcanInsertBlockType,\n\t\t\t} = select( blockEditorStore );\n\n\t\t\tconst rootClientId = getBlockRootClientId( clientId );\n\t\t\tconst settings = pick( getSettings(), [\n\t\t\t\t'imageSizes',\n\t\t\t\t'mediaUpload',\n\t\t\t] );\n\n\t\t\treturn {\n\t\t\t\t...settings,\n\t\t\t\tcanInsertCover: canInsertBlockType(\n\t\t\t\t\t'core/cover',\n\t\t\t\t\trootClientId\n\t\t\t\t),\n\t\t\t};\n\t\t},\n\t\t[ clientId ]\n\t);\n\n\tconst { replaceBlocks } = useDispatch( blockEditorStore );\n\n\tconst { createErrorNotice, createSuccessNotice } = useDispatch(\n\t\tnoticesStore\n\t);\n\n\tconst [ isEditingImage, setIsEditingImage ] = useState( false );\n\n\tconst [ externalBlob, setExternalBlob ] = useState();\n\n\t// Focus the caption after inserting an image from the placeholder. This is\n\t// done to preserve the behaviour of focussing the first tabbable element\n\t// when a block is mounted. Previously, the image block would remount when\n\t// the placeholder is removed. Maybe this behaviour could be removed.\n\tuseEffect( () => {\n\t\tif ( url && ! prevUrl && isSelected ) {\n\t\t\tcaptionRef.current.focus();\n\t\t}\n\t}, [ url, prevUrl ] );\n\n\tfunction onSetHref( props ) {\n\t\tsetAttributes( props );\n\t}\n\n\tfunction onSetTitle( value ) {\n\t\t// This is the HTML title attribute, separate from the media object\n\t\t// title.\n\t\tsetAttributes( { title: value } );\n\t}\n\n\tfunction updateAlt( newAlt ) {\n\t\tsetAttributes( { alt: newAlt } );\n\t}\n\n\tfunction uploadExternal() {\n\t\tmediaUpload( {\n\t\t\tfilesList: [ externalBlob ],\n\t\t\tonFileChange( [ img ] ) {\n\t\t\t\tonSelectImage( img );\n\n\t\t\t\tif ( isBlobURL( img.url ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tsetExternalBlob();\n\t\t\t\tcreateSuccessNotice( __( 'Image uploaded.' ), {\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t} );\n\t\t\t},\n\t\t\tallowedTypes: [ 'image' ],\n\t\t\tonError( message ) {\n\t\t\t\tcreateErrorNotice( message, { type: 'snackbar' } );\n\t\t\t},\n\t\t} );\n\t}\n\n\tfunction updateAlignment( nextAlign ) {\n\t\tconst extraUpdatedAttributes = [ 'wide', 'full' ].includes( nextAlign )\n\t\t\t? { width: undefined, height: undefined }\n\t\t\t: {};\n\t\tif ( ! nextAlign ) {\n\t\t\tnextAlign = 'none';\n\t\t}\n\t\tsetAttributes( {\n\t\t\t...extraUpdatedAttributes,\n\t\t\talign: nextAlign,\n\t\t} );\n\t}\n\n\tuseEffect( () => {\n\t\tif ( ! isSelected ) {\n\t\t\tsetIsEditingImage( false );\n\t\t}\n\t\tif ( isSelected && isMediaDestroyed( id ) ) {\n\t\t\tonImageLoadError();\n\t\t}\n\t}, [ isSelected ] );\n\n\tfunction switchToCover() {\n\t\treplaceBlocks(\n\t\t\tclientId,\n\t\t\tswitchToBlockType( getBlock( clientId ), 'core/cover' )\n\t\t);\n\t}\n\n\tconst controls = (\n\t\t<>\n\t\t\t<BlockControls group=\"block\">\n\t\t\t\t<BlockAlignmentControl\n\t\t\t\t\tvalue={ align }\n\t\t\t\t\tonChange={ updateAlignment }\n\t\t\t\t/>\n\t\t\t\t{ ! isEditingImage && (\n\t\t\t\t\t<ImageURLInputUI\n\t\t\t\t\t\turl={ href || '' }\n\t\t\t\t\t\tonChangeUrl={ onSetHref }\n\t\t\t\t\t\tlinkDestination={ linkDestination }\n\t\t\t\t\t\tmediaUrl={ ( image && image.source_url ) || url }\n\t\t\t\t\t\tmediaLink={ image && image.link }\n\t\t\t\t\t\tlinkTarget={ linkTarget }\n\t\t\t\t\t\tlinkClass={ linkClass }\n\t\t\t\t\t\trel={ rel }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ externalBlob && (\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\tonClick={ uploadExternal }\n\t\t\t\t\t\ticon={ upload }\n\t\t\t\t\t\tlabel={ __( 'Upload external image' ) }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ canInsertCover && (\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\ticon={ overlayText }\n\t\t\t\t\t\tlabel={ __( 'Add text over image' ) }\n\t\t\t\t\t\tonClick={ switchToCover }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</BlockControls>\n\t\t\t{ ! isEditingImage && (\n\t\t\t\t<BlockControls group=\"other\">\n\t\t\t\t\t<MediaReplaceFlow\n\t\t\t\t\t\tmediaId={ id }\n\t\t\t\t\t\tmediaURL={ url }\n\t\t\t\t\t\tallowedTypes={ [ 'image' ] }\n\t\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\t\tonSelect={ onSelectImage }\n\t\t\t\t\t\tonSelectURL={ onSelectURL }\n\t\t\t\t\t\tonError={ onUploadError }\n\t\t\t\t\t\tonCloseModal={ onCloseModal }\n\t\t\t\t\t/>\n\t\t\t\t</BlockControls>\n\t\t\t) }\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Image settings' ) }>\n\t\t\t\t\t<TextareaControl\n\t\t\t\t\t\tlabel={ __( 'Alt text (alternative text)' ) }\n\t\t\t\t\t\tvalue={ alt }\n\t\t\t\t\t\tonChange={ updateAlt }\n\t\t\t\t\t\thelp={\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<ExternalLink href=\"https://www.w3.org/WAI/tutorials/images/decision-tree\">\n\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t'Describe the purpose of the image'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'Leave empty if the image is purely decorative.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<InspectorControls __experimentalGroup=\"advanced\">\n\t\t\t\t<TextControl\n\t\t\t\t\tlabel={ __( 'Title attribute' ) }\n\t\t\t\t\tvalue={ title || '' }\n\t\t\t\t\tonChange={ onSetTitle }\n\t\t\t\t\thelp={\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t'Describe the role of this image on the page.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t<ExternalLink href=\"https://www.w3.org/TR/html52/dom.html#the-title-attribute\">\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'(Note: many devices and browsers do not display this text.)'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t</>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</InspectorControls>\n\t\t</>\n\t);\n\n\t// caption controls are filled into the Toolbar, placed\n\t// after the link button on the toolbar\n\tconst captionControls = (\n\t\t<Fill name=\"RichText.ToolbarControls.link\">\n\t\t\t<AlignmentToolbar\n\t\t\t\tvalue={ alignCaption }\n\t\t\t\tonChange={ ( newAlignCaption ) =>\n\t\t\t\t\tsetAttributes( { alignCaption: newAlignCaption } )\n\t\t\t\t}\n\t\t\t/>\n\t\t</Fill>\n\t);\n\n\tconst filename = getFilename( url );\n\tlet defaultedAlt;\n\n\tif ( alt ) {\n\t\tdefaultedAlt = alt;\n\t} else if ( filename ) {\n\t\tdefaultedAlt = sprintf(\n\t\t\t/* translators: %s: file name */\n\t\t\t__( 'This image has an empty alt attribute; its file name is %s' ),\n\t\t\tfilename\n\t\t);\n\t} else {\n\t\tdefaultedAlt = __( 'This image has an empty alt attribute' );\n\t}\n\n\tconst img = (\n\t\t// Disable reason: Image itself is not meant to be interactive, but\n\t\t// should direct focus to block.\n\t\t/* eslint-disable jsx-a11y/no-noninteractive-element-interactions, jsx-a11y/click-events-have-key-events */\n\t\t<>\n\t\t\t<img\n\t\t\t\tsrc={ temporaryURL || url }\n\t\t\t\talt={ defaultedAlt }\n\t\t\t\twidth={ width }\n\t\t\t\theight={ height }\n\t\t\t\tref={ imageRef }\n\t\t\t\tdata-design-width={ designWidth }\n\t\t\t\tdata-design-height={ designHeight }\n\t\t\t/>\n\t\t\t{ temporaryURL && <Spinner /> }\n\t\t</>\n\t\t/* eslint-enable jsx-a11y/no-noninteractive-element-interactions, jsx-a11y/click-events-have-key-events */\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t{ /* Hide controls during upload to avoid component remount,\n\t\t\t\twhich causes duplicated image upload. */ }\n\t\t\t{ ! temporaryURL && controls }\n\t\t\t{ img }\n\t\t\t{ isSelected && captionControls }\n\t\t\t{ ( ! RichText.isEmpty( caption ) || isSelected ) && (\n\t\t\t\t<RichText\n\t\t\t\t\tref={ captionRef }\n\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\taria-label={ __( 'Image caption text' ) }\n\t\t\t\t\tplaceholder={ __( 'Add caption' ) }\n\t\t\t\t\tvalue={ caption }\n\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\tsetAttributes( { caption: value } )\n\t\t\t\t\t}\n\t\t\t\t\tinlineToolbar={ true }\n\t\t\t\t\t__unstableOnSplitAtEnd={ () =>\n\t\t\t\t\t\tinsertBlocksAfter( createBlock( 'core/paragraph' ) )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies.\n */\nimport { registerBlockType } from '@wordpress/blocks';\n\n/**\n * Import styles.\n */\nimport './style.scss';\n\n/**\n * Internal dependencies.\n */\nimport json from './block.json';\nimport edit from './edit';\nimport save from './save';\nimport icons from '../../../icons/icons';\nimport checkDimensions from '../lib/check-dimensions';\n\nconst { name, ...settings } = json;\n\n// Extend Attachment Library approach.\n// wp.media.view.Attachment.Library = wp.media.view.Attachment.Library.extend( {\n// \tclassName() {\n// \t\treturn checkDimensions(\n// \t\t\tthis.model.attributes.width,\n// \t\t\tthis.model.attributes.height\n// \t\t)\n// \t\t\t? 'attachment resource-disabled'\n// \t\t\t: 'attachment';\n// \t},\n// } );\n\n// Event Listener approach.\n// const originalAttachmentTrigger = wp.media.view.Attachment.prototype.trigger;\nwp.media.view.Attachment.prototype.trigger = function () {\n\t// triggers all events, compares against 'ready'\n\t// first argument contains the event name\n\tif ( arguments[ 0 ] === 'ready' ) {\n\t\tif (\n\t\t\t! checkDimensions(\n\t\t\t\tthis.model.attributes.width,\n\t\t\t\tthis.model.attributes.height\n\t\t\t)\n\t\t) {\n\t\t\t// if checkDimensions returns false\n\t\t\t// add disabled class to element\n\t\t\tthis.$el.addClass( 'resource-disabled' );\n\t\t}\n\t}\n\t// unsure if below is needed\n\n\t// originalAttachmentTrigger.apply(\n\t// \tthis,\n\t// \tArray.prototype.slice.call( arguments )\n\t// );\n};\n\n/**\n * Register block.\n */\nregisterBlockType( name, {\n\t...settings,\n\ticon: icons.single_image,\n\t/**\n\t * @see ./edit.js\n\t */\n\tedit,\n\n\t/**\n\t * @see ./save.js\n\t */\n\tsave,\n} );\n","/**\n * External dependencies.\n */\nimport classnames from 'classnames';\nimport { isEmpty } from 'lodash';\n\n/**\n * WordPress dependencies.\n */\nimport { RichText, useBlockProps } from '@wordpress/block-editor';\n\nexport default function save( { attributes } ) {\n\tconst {\n\t\turl,\n\t\talt,\n\t\tcaption,\n\t\talign,\n\t\tshowCaption,\n\t\talignCaption,\n\t\thref,\n\t\trel,\n\t\tlinkClass,\n\t\twidth,\n\t\timageWidthInsideContainer,\n\t\theight,\n\t\tdesignWidth,\n\t\tdesignHeight,\n\t\tid,\n\t\tlinkTarget,\n\t\ttitle,\n\t} = attributes;\n\n\tconst newRel = isEmpty( rel ) ? undefined : rel;\n\n\tconst classes = classnames( 'size-full', {\n\t\t[ `align${ align }` ]: align,\n\t\t[ `align-caption-${ alignCaption }` ]: alignCaption,\n\t\t[ `has-${ showCaption ? 'caption' : 'no-caption' }` ]: showCaption,\n\t} );\n\n\tconst image = (\n\t\t<img\n\t\t\tsrc={ url }\n\t\t\talt={ alt }\n\t\t\tclassName={ id ? `wp-image-${ id }` : null }\n\t\t\twidth={ width }\n\t\t\theight={ height }\n\t\t\ttitle={ title }\n\t\t\tdata-design-width={ designWidth }\n\t\t\tdata-design-height={ designHeight }\n\t\t/>\n\t);\n\n\tconst figure = (\n\t\t<>\n\t\t\t{ href ? (\n\t\t\t\t<a\n\t\t\t\t\tclassName={ linkClass }\n\t\t\t\t\thref={ href }\n\t\t\t\t\ttarget={ linkTarget }\n\t\t\t\t\trel={ newRel }\n\t\t\t\t>\n\t\t\t\t\t{ image }\n\t\t\t\t</a>\n\t\t\t) : (\n\t\t\t\timage\n\t\t\t) }\n\t\t\t{ ! RichText.isEmpty( caption ) && (\n\t\t\t\t<RichText.Content tagName=\"figcaption\" value={ caption } />\n\t\t\t) }\n\t\t</>\n\t);\n\n\tconst styles = imageWidthInsideContainer\n\t\t? { style: { width: imageWidthInsideContainer } }\n\t\t: {};\n\n\treturn (\n\t\t<figure\n\t\t\t{ ...useBlockProps.save( {\n\t\t\t\tclassName: classes,\n\t\t\t} ) }\n\t\t\t{ ...styles }\n\t\t>\n\t\t\t{ figure }\n\t\t</figure>\n\t);\n}\n","/**\n * checkDimensions function.\n * returns false if either designWidth or\n * designHeight are not equal to width or height.\n *\n * @param {string} width\n * @param {string} height\n * @private\n */\nexport default function checkDimensions( width, height ) {\n\t// init variables\n\tlet designWidth, designHeight;\n\n\t// get currently selected block (if any)\n\tconst selectedBlock = wp.data\n\t\t.select( 'core/block-editor' )\n\t\t.getSelectedBlock();\n\n\t// if this is coming from a block, there will\n\t// be a designWidth or designHeight attribute(s)\n\tif ( selectedBlock ) {\n\t\tdesignWidth = selectedBlock.attributes.designWidth;\n\t\tdesignHeight = selectedBlock.attributes.designHeight;\n\t}\n\n\t// if designWidth exists\n\tif ( designWidth ) {\n\t\t// and is not blank\n\t\tif ( '' !== designWidth ) {\n\t\t\tif ( parseInt( designWidth ) !== parseInt( width ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\n\t// if designHeight exists\n\tif ( designHeight ) {\n\t\t// and is not blank\n\t\tif ( '' !== designHeight ) {\n\t\t\tif ( parseInt( designHeight ) !== parseInt( height ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn true;\n}\n","const icons = {};\n\nicons.resource = (\n\t<svg\n\t\theight=\"20\"\n\t\tviewBox=\"0 0 11 20\"\n\t\twidth=\"11\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t>\n\t\t<g fill=\"#231f20\">\n\t\t\t<path d=\"m2.4 17.96h.38l.93 2.04h-.48l-.18-.43h-.93l-.18.43h-.46zm-.13 1.26h.63l-.3-.72h-.02c0-.01-.31.72-.31.72z\" />\n\t\t\t<path d=\"m4.59 17.96h1.88v.39h-.72v1.65h-.44v-1.65h-.72z\" />\n\t\t\t<path d=\"m8.34 17.96v1.65h1.18v.39h-1.61v-2.04z\" />\n\t\t\t<path d=\"m1.48 15.26h8.04v.52h-8.04z\" />\n\t\t\t<path d=\"m0 .03c1.21.03 2.75-.03 4.24-.03 2.03 0 4.41.39 4.41 2.91 0 1.38-1.16 2.85-3.27 2.94 1.53.16 2.34.88 2.84 2.46.75 2.31 1.18 3.03 2.72 2.97l.06.22c-.47.24-.99.35-1.52.33-1.6 0-2.4-1.35-2.88-3.13-.63-2.34-1.91-2.61-3.54-2.61v1.45c0 1.36.03 2.88.03 2.88 0 .54.21.66.88.75l.88.11v.35h-4.85v-.35l.74-.11c.46-.08.74-.21.74-.75 0 0 .01-.72.01-2.88v-3.57c0-1.25-.01-2.17-.01-2.74 0-.54-.28-.67-.74-.75l-.74-.11zm3.06 5.64h.87c2.23 0 3.09-1.08 3.09-2.71 0-2.05-1.6-2.4-3.07-2.4-.3-.01-.59.02-.88.06-.01 0-.01 5.05-.01 5.05z\" />\n\t\t</g>\n\t</svg>\n);\nicons.intro_paragraph = (\n\t<svg\n\t\theight=\"24\"\n\t\tviewBox=\"0 0 24 24\"\n\t\twidth=\"24\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t>\n\t\t<path d=\"m23.1 0c.5 0 .9.4.9.9v5.1c0 .5-.4.9-.9.9h-1.7c-.5 0-.9-.4-.9-.9v-1.7h-6.4v16.3h2.1c.5 0 .9.4.9.9v1.7c0 .5-.4.9-.9.9h-8.5c-.5 0-.9-.4-.9-.9v-1.7c0-.5.4-.9.9-.9h2.1v-16.3h-6.4v1.7c0 .5-.4.9-.9.9h-1.6c-.5 0-.9-.4-.9-.9v-5.1c0-.5.4-.9.9-.9z\" />\n\t\t<path d=\"m0 0h24v24h-24z\" fill=\"none\" />\n\t</svg>\n);\nicons.body_text = (\n\t<svg\n\t\theight=\"24\"\n\t\tviewBox=\"0 0 24 24\"\n\t\twidth=\"24\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t>\n\t\t<path d=\"m.7 17.1h19.1c.4 0 .7-.3.7-.7v-2.1c0-.4-.3-.7-.7-.7h-19.1c-.4.1-.7.4-.7.8v2.1c0 .3.3.6.7.6zm0-13.7h14.1c.4 0 .7-.3.7-.7v-2c0-.4-.3-.7-.7-.7h-14.1c-.4 0-.7.3-.7.7v2.1c0 .3.3.6.7.6zm22.4 3.5h-22.2c-.5 0-.9.3-.9.8v1.7c0 .5.4.9.9.9h22.3c.5 0 .9-.4.9-.9v-1.7c-.1-.5-.5-.8-1-.8zm0 13.7h-22.2c-.5 0-.9.4-.9.8v1.7c0 .5.4.9.9.9h22.3c.5 0 .9-.4.9-.9v-1.7c-.1-.4-.5-.8-1-.8z\" />\n\t\t<path d=\"m0 0h25v24h-25z\" fill=\"none\" />\n\t</svg>\n);\nicons.image_full_width = (\n\t<svg\n\t\theight=\"24\"\n\t\tviewBox=\"0 0 24 24\"\n\t\twidth=\"24\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t>\n\t\t<path d=\"m0 0h24v24h-24z\" fill=\"none\" />\n\t\t<path d=\"m21.74 19.2h-19.48c-1.25 0-2.26-.8-2.26-1.8v-10.8c0-1 1.01-1.8 2.26-1.8h19.5c1.23 0 2.24.8 2.24 1.8v10.8c0 1-1.01 1.8-2.26 1.8zm-16.48-12.3c-1.46 0-2.63.94-2.63 2.1s1.18 2.1 2.63 2.1 2.61-.94 2.61-2.1-1.17-2.1-2.61-2.1zm-2.26 9.9h18v-4.2l-4.1-3.28c-.22-.18-.58-.18-.79 0l-6.37 5.08-2.6-2.08c-.22-.18-.58-.18-.79 0l-3.35 2.68z\" />\n\t</svg>\n);\nicons.two_column_images = (\n\t<svg\n\t\theight=\"24\"\n\t\tviewBox=\"0 0 24 24\"\n\t\twidth=\"24\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t>\n\t\t<path d=\"m10.87 17.72h-9.74c-.63 0-1.13-.64-1.13-1.43v-8.58c0-.79.5-1.43 1.13-1.43h9.74c.63 0 1.13.64 1.13 1.43v8.58c0 .79-.5 1.43-1.13 1.43zm-8.24-9.78c-.73 0-1.31.75-1.31 1.66 0 .92.59 1.66 1.31 1.66s1.31-.75 1.31-1.66-.59-1.66-1.31-1.66zm-1.13 7.87h9v-3.34l-2.05-2.59c-.11-.14-.29-.14-.4 0l-3.18 4.03-1.3-1.65c-.11-.14-.29-.14-.4 0l-1.67 2.12z\" />\n\t\t<path d=\"m22.87 17.72h-9.74c-.62 0-1.13-.64-1.13-1.43v-8.58c0-.79.5-1.43 1.13-1.43h9.74c.63 0 1.13.64 1.13 1.43v8.58c0 .79-.5 1.43-1.13 1.43zm-8.24-9.78c-.73 0-1.31.75-1.31 1.66 0 .92.59 1.66 1.31 1.66s1.31-.75 1.31-1.66-.59-1.66-1.31-1.66zm-1.13 7.87h9v-3.34l-2.05-2.61c-.11-.14-.29-.14-.4 0l-3.18 4.03-1.3-1.65c-.11-.14-.29-.14-.4 0l-1.68 2.12z\" />\n\t\t<path d=\"m0 0h24v24h-24z\" fill=\"none\" />\n\t</svg>\n);\nicons.vimeo = (\n\t<svg\n\t\theight=\"24\"\n\t\tviewBox=\"0 0 24 24\"\n\t\twidth=\"24\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t>\n\t\t<path d=\"m22.4 7.16c-.09 2.03-1.51 4.8-4.24 8.32-2.84 3.68-5.23 5.52-7.19 5.52-1.21 0-2.24-1.12-3.08-3.36-.56-2.05-1.12-4.1-1.68-6.16-.62-2.24-1.29-3.36-2-3.36-.16 0-.7.33-1.63.98l-.99-1.26c1.03-.9 2.04-1.81 3.04-2.71 1.37-1.18 2.4-1.8 3.09-1.86 1.62-.16 2.62.95 2.99 3.32.4 2.56.69 4.15.84 4.77.47 2.12.98 3.18 1.54 3.18.44 0 1.09-.69 1.96-2.06.87-1.38 1.34-2.42 1.4-3.14.12-1.19-.34-1.78-1.4-1.78-.5 0-1.01.11-1.54.34 1.02-3.35 2.98-4.98 5.86-4.88 2.14.05 3.15 1.43 3.03 4.14z\" />\n\t\t<path d=\"m0 0h24v24h-24z\" fill=\"none\" />\n\t</svg>\n);\nicons.single_image = (\n\t<svg\n\t\theight=\"24\"\n\t\tviewBox=\"0 0 24 24\"\n\t\twidth=\"24\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t>\n\t\t<path d=\"m19.8 19.2h-15.6c-1 0-1.8-.8-1.8-1.8v-10.8c0-1 .8-1.8 1.8-1.8h15.6c1 0 1.8.8 1.8 1.8v10.8c0 1-.8 1.8-1.8 1.8zm-13.2-12.3c-1.16 0-2.1.94-2.1 2.1s.94 2.1 2.1 2.1 2.1-.94 2.1-2.1-.94-2.1-2.1-2.1zm-1.8 9.9h14.4v-4.2l-3.28-3.28c-.18-.18-.46-.18-.64 0l-5.08 5.08-2.08-2.08c-.18-.18-.46-.18-.64 0l-2.68 2.68z\" />\n\t\t<path d=\"m0 0h24v24h-24z\" fill=\"none\" />\n\t</svg>\n);\nicons.triptych = (\n\t<svg\n\t\theight=\"24\"\n\t\tviewBox=\"0 0 24 24\"\n\t\twidth=\"24\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t>\n\t\t<path d=\"m7 17h-6.3c-.4 0-.7-.5-.7-1.2v-7.6c0-.7.3-1.2.7-1.2h6.3c.4 0 .7.6.7 1.3v7.5c0 .7-.3 1.2-.7 1.2zm-5.3-8.6c-.5 0-.8.7-.8 1.5s.4 1.5.8 1.5.8-.7.8-1.5-.4-1.5-.8-1.5zm-.7 6.9h5.8v-2.9l-1.3-2.3c-.1-.1-.2-.1-.3 0l-2 3.5-.8-1.4c-.1-.1-.2-.1-.3 0l-1.1 1.9z\" />\n\t\t<path d=\"m15.1 17h-6.2c-.4 0-.7-.6-.7-1.3v-7.5c0-.7.3-1.2.7-1.2h6.2c.4 0 .7.6.7 1.3v7.5c0 .7-.3 1.2-.7 1.2zm-5.3-8.6c-.4 0-.8.7-.8 1.5s.4 1.5.8 1.5c.5 0 .8-.7.8-1.5.1-.8-.3-1.5-.8-1.5zm-.7 6.9h5.8v-2.9l-1.3-2.3c-.1-.1-.2-.1-.3 0l-2 3.5-.8-1.4c-.1-.1-.2-.1-.3 0l-1.1 1.9z\" />\n\t\t<path d=\"m23.3 17h-6.3c-.4 0-.7-.6-.7-1.3v-7.5c0-.7.3-1.2.7-1.2h6.2c.5 0 .8.5.8 1.2v7.5c0 .8-.3 1.3-.7 1.3zm-5.3-8.6c-.5 0-.8.7-.8 1.5s.4 1.5.8 1.5.8-.7.8-1.5-.3-1.5-.8-1.5zm-.7 6.9h5.7v-2.9l-1.3-2.3c-.1-.1-.2-.1-.3 0l-2 3.5-.8-1.4c-.1-.1-.2-.1-.3 0l-1.1 1.9z\" />\n\t\t<path d=\"m0 0h24v24h-24z\" fill=\"none\" />\n\t</svg>\n);\nicons.question = (\n\t<svg\n\t\theight=\"24\"\n\t\tviewBox=\"0 0 24 24\"\n\t\twidth=\"24\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t>\n\t\t<path d=\"m12 0c-3.7 0-6.1 1.5-8 4.3-.4.5-.3 1.1.2 1.5l2 1.5c.5.4 1.2.3 1.6-.2 1.2-1.5 2-2.3 3.9-2.3 1.4 0 3.2.9 3.2 2.3 0 1.1-.9 1.6-2.3 2.4-1.7.9-3.9 2.1-3.9 5v.5c0 .6.5 1.1 1.1 1.1h3.4c.6 0 1.1-.5 1.1-1.1v-.3c0-2 5.9-2.1 5.9-7.5 0-4.1-4.2-7.2-8.2-7.2zm-.4 17.5c-1.8 0-3.2 1.5-3.2 3.2 0 1.8 1.5 3.2 3.2 3.2s3.2-1.5 3.2-3.2-1.5-3.2-3.2-3.2z\" />\n\t\t<path d=\"m0 0h24v24h-24z\" fill=\"none\" />\n\t</svg>\n);\nicons.heading = (\n\t<svg\n\t\theight=\"24\"\n\t\tviewBox=\"0 0 24 24\"\n\t\twidth=\"24\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t>\n\t\t<path d=\"m21.6 4v16h1.6c.4 0 .8.4.8.8v1.6c0 .4-.4.8-.8.8h-8c-.4 0-.8-.4-.8-.8v-1.6c0-.4.4-.8.8-.8h1.6v-6.4h-9.6v6.4h1.6c.4 0 .8.4.8.8v1.6c0 .4-.4.8-.8.8h-8c-.4 0-.8-.4-.8-.8v-1.6c0-.4.4-.8.8-.8h1.6v-16h-1.6c-.4 0-.8-.4-.8-.8v-1.6c0-.4.4-.8.8-.8h8c.4 0 .8.4.8.8v1.6c0 .4-.4.8-.8.8h-1.6v6.4h9.6v-6.4h-1.6c-.4 0-.8-.4-.8-.8v-1.6c0-.4.4-.8.8-.8h8c.4 0 .8.4.8.8v1.6c0 .4-.4.8-.8.8z\" />\n\t\t<path d=\"m0 0h24v24h-24z\" fill=\"none\" />\n\t</svg>\n);\n\nexport default icons;\n","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"lodash\"];","module.exports = window[\"wp\"][\"blob\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"compose\"];","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"notices\"];","module.exports = window[\"wp\"][\"primitives\"];","module.exports = window[\"wp\"][\"url\"];","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"image-constrained\": 0,\n\t\"./style-image-constrained\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkresource_blocks\"] = self[\"webpackChunkresource_blocks\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"./style-image-constrained\"], function() { return __webpack_require__(\"./includes/block-editor/blocks/image-constrained/index.js\"); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["classnames","get","omit","pick","getBlobByURL","isBlobURL","MediaPlaceholder","useBlockProps","InspectorControls","store","blockEditorStore","BlockIcon","PanelBody","PanelRow","TextControl","ToggleControl","withNotices","Modal","useEffect","useRef","useState","useSelect","__","sprintf","icons","Image","pickRelevantMediaFiles","image","imageProps","width","height","url","isTemporaryImage","id","isMediaDestroyed","attachment","wp","media","destroyed","Edit","attributes","setAttributes","isSelected","className","noticeUI","insertBlocksAfter","noticeOperations","onReplace","context","clientId","alt","caption","align","showCaption","alignCaption","imageWidthInsideContainer","designWidth","designHeight","temporaryURL","setTemporaryURL","altRef","current","captionRef","ref","mediaUpload","select","getSettings","onCloseModal","undefined","onImageError","isReplaced","onSetDesignWidth","value","onSetDesignHeight","onSetImageWidthInsideContainer","mediaPreview","classes","blockProps","modalIsOpen","setIsOpen","heightWidthInstructions","onUploadError","message","removeAllNotices","createErrorNotice","src","onSelectImage","title","mediaAttributes","parseInt","openModal","linkDestination","view","settings","defaultProps","link","href","closeModal","isTemp","file","filesList","onFileChange","img","allowedTypes","onError","styles","style","single_image","instructions","Fill","ExternalLink","Spinner","TextareaControl","ToolbarButton","usePrevious","useDispatch","BlockControls","RichText","__experimentalImageURLInputUI","ImageURLInputUI","MediaReplaceFlow","BlockAlignmentControl","AlignmentToolbar","getFilename","createBlock","switchToBlockType","overlayText","upload","noticesStore","coreStore","rel","linkClass","linkTarget","onSelectURL","onImageLoadError","imageRef","prevUrl","getBlock","getMedia","canInsertCover","getBlockRootClientId","canInsertBlockType","rootClientId","replaceBlocks","createSuccessNotice","isEditingImage","setIsEditingImage","externalBlob","setExternalBlob","focus","onSetHref","props","onSetTitle","updateAlt","newAlt","uploadExternal","type","updateAlignment","nextAlign","extraUpdatedAttributes","includes","switchToCover","controls","source_url","captionControls","newAlignCaption","filename","defaultedAlt","isEmpty","registerBlockType","json","edit","save","checkDimensions","name","Attachment","prototype","trigger","arguments","model","$el","addClass","icon","newRel","figure","selectedBlock","data","getSelectedBlock","resource","intro_paragraph","body_text","image_full_width","two_column_images","vimeo","triptych","question","heading"],"sourceRoot":""}
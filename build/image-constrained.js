!function(){var e,t={889:function(e,t,i){"use strict";var n=window.wp.blocks,a=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"resource-blocks/image-constrained","version":"1.0.0","title":"Image [Size Constrained]","category":"resource-blocks","description":"A simple image that has an additional field to constrain the width or height.","keywords":["img","photo","picture"],"attributes":{"align":{"type":"string","default":"none"},"showCaption":{"type":"boolean","default":false},"alignCaption":{"type":"string","default":"none"},"url":{"type":"string","source":"attribute","selector":"img","attribute":"src"},"alt":{"type":"string","source":"attribute","selector":"img","attribute":"alt","default":""},"caption":{"type":"string","source":"html","selector":"figcaption"},"title":{"type":"string","source":"attribute","selector":"img","attribute":"title"},"href":{"type":"string","source":"attribute","selector":"figure > a","attribute":"href"},"rel":{"type":"string","source":"attribute","selector":"figure > a","attribute":"rel"},"linkClass":{"type":"string","source":"attribute","selector":"figure > a","attribute":"class"},"id":{"type":"number"},"width":{"type":"number"},"designWidth":{"type":"string","source":"attribute","selector":"figure > img","attribute":"data-design-width","default":""},"imageWidthInsideContainer":{"type":"string","default":""},"height":{"type":"number"},"designHeight":{"type":"string","source":"attribute","selector":"figure > img","attribute":"data-design-height","default":""},"linkDestination":{"type":"string"},"linkTarget":{"type":"string","source":"attribute","selector":"figure > a","attribute":"target"}},"supports":{"anchor":true},"textdomain":"resource-blocks","editorScript":"file:../../../../build/image-constrained.js","editorStyle":"file:../../../../build/image-constrained.css","style":"file:../../../../build/style-image-constrained.css"}');function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},l.apply(this,arguments)}var r=window.wp.element,o=i(184),c=i.n(o),s=window.lodash,h=window.wp.blob,m=window.wp.blockEditor,d=window.wp.components,u=window.wp.data,g=window.wp.i18n;const p={};p.resource=(0,r.createElement)("svg",{height:"20",viewBox:"0 0 11 20",width:"11",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)("g",{fill:"#231f20"},(0,r.createElement)("path",{d:"m2.4 17.96h.38l.93 2.04h-.48l-.18-.43h-.93l-.18.43h-.46zm-.13 1.26h.63l-.3-.72h-.02c0-.01-.31.72-.31.72z"}),(0,r.createElement)("path",{d:"m4.59 17.96h1.88v.39h-.72v1.65h-.44v-1.65h-.72z"}),(0,r.createElement)("path",{d:"m8.34 17.96v1.65h1.18v.39h-1.61v-2.04z"}),(0,r.createElement)("path",{d:"m1.48 15.26h8.04v.52h-8.04z"}),(0,r.createElement)("path",{d:"m0 .03c1.21.03 2.75-.03 4.24-.03 2.03 0 4.41.39 4.41 2.91 0 1.38-1.16 2.85-3.27 2.94 1.53.16 2.34.88 2.84 2.46.75 2.31 1.18 3.03 2.72 2.97l.06.22c-.47.24-.99.35-1.52.33-1.6 0-2.4-1.35-2.88-3.13-.63-2.34-1.91-2.61-3.54-2.61v1.45c0 1.36.03 2.88.03 2.88 0 .54.21.66.88.75l.88.11v.35h-4.85v-.35l.74-.11c.46-.08.74-.21.74-.75 0 0 .01-.72.01-2.88v-3.57c0-1.25-.01-2.17-.01-2.74 0-.54-.28-.67-.74-.75l-.74-.11zm3.06 5.64h.87c2.23 0 3.09-1.08 3.09-2.71 0-2.05-1.6-2.4-3.07-2.4-.3-.01-.59.02-.88.06-.01 0-.01 5.05-.01 5.05z"}))),p.intro_paragraph=(0,r.createElement)("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)("path",{d:"m23.1 0c.5 0 .9.4.9.9v5.1c0 .5-.4.9-.9.9h-1.7c-.5 0-.9-.4-.9-.9v-1.7h-6.4v16.3h2.1c.5 0 .9.4.9.9v1.7c0 .5-.4.9-.9.9h-8.5c-.5 0-.9-.4-.9-.9v-1.7c0-.5.4-.9.9-.9h2.1v-16.3h-6.4v1.7c0 .5-.4.9-.9.9h-1.6c-.5 0-.9-.4-.9-.9v-5.1c0-.5.4-.9.9-.9z"}),(0,r.createElement)("path",{d:"m0 0h24v24h-24z",fill:"none"})),p.body_text=(0,r.createElement)("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)("path",{d:"m.7 17.1h19.1c.4 0 .7-.3.7-.7v-2.1c0-.4-.3-.7-.7-.7h-19.1c-.4.1-.7.4-.7.8v2.1c0 .3.3.6.7.6zm0-13.7h14.1c.4 0 .7-.3.7-.7v-2c0-.4-.3-.7-.7-.7h-14.1c-.4 0-.7.3-.7.7v2.1c0 .3.3.6.7.6zm22.4 3.5h-22.2c-.5 0-.9.3-.9.8v1.7c0 .5.4.9.9.9h22.3c.5 0 .9-.4.9-.9v-1.7c-.1-.5-.5-.8-1-.8zm0 13.7h-22.2c-.5 0-.9.4-.9.8v1.7c0 .5.4.9.9.9h22.3c.5 0 .9-.4.9-.9v-1.7c-.1-.4-.5-.8-1-.8z"}),(0,r.createElement)("path",{d:"m0 0h25v24h-25z",fill:"none"})),p.image_full_width=(0,r.createElement)("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)("path",{d:"m0 0h24v24h-24z",fill:"none"}),(0,r.createElement)("path",{d:"m21.74 19.2h-19.48c-1.25 0-2.26-.8-2.26-1.8v-10.8c0-1 1.01-1.8 2.26-1.8h19.5c1.23 0 2.24.8 2.24 1.8v10.8c0 1-1.01 1.8-2.26 1.8zm-16.48-12.3c-1.46 0-2.63.94-2.63 2.1s1.18 2.1 2.63 2.1 2.61-.94 2.61-2.1-1.17-2.1-2.61-2.1zm-2.26 9.9h18v-4.2l-4.1-3.28c-.22-.18-.58-.18-.79 0l-6.37 5.08-2.6-2.08c-.22-.18-.58-.18-.79 0l-3.35 2.68z"})),p.two_column_images=(0,r.createElement)("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)("path",{d:"m10.87 17.72h-9.74c-.63 0-1.13-.64-1.13-1.43v-8.58c0-.79.5-1.43 1.13-1.43h9.74c.63 0 1.13.64 1.13 1.43v8.58c0 .79-.5 1.43-1.13 1.43zm-8.24-9.78c-.73 0-1.31.75-1.31 1.66 0 .92.59 1.66 1.31 1.66s1.31-.75 1.31-1.66-.59-1.66-1.31-1.66zm-1.13 7.87h9v-3.34l-2.05-2.59c-.11-.14-.29-.14-.4 0l-3.18 4.03-1.3-1.65c-.11-.14-.29-.14-.4 0l-1.67 2.12z"}),(0,r.createElement)("path",{d:"m22.87 17.72h-9.74c-.62 0-1.13-.64-1.13-1.43v-8.58c0-.79.5-1.43 1.13-1.43h9.74c.63 0 1.13.64 1.13 1.43v8.58c0 .79-.5 1.43-1.13 1.43zm-8.24-9.78c-.73 0-1.31.75-1.31 1.66 0 .92.59 1.66 1.31 1.66s1.31-.75 1.31-1.66-.59-1.66-1.31-1.66zm-1.13 7.87h9v-3.34l-2.05-2.61c-.11-.14-.29-.14-.4 0l-3.18 4.03-1.3-1.65c-.11-.14-.29-.14-.4 0l-1.68 2.12z"}),(0,r.createElement)("path",{d:"m0 0h24v24h-24z",fill:"none"})),p.vimeo=(0,r.createElement)("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)("path",{d:"m22.4 7.16c-.09 2.03-1.51 4.8-4.24 8.32-2.84 3.68-5.23 5.52-7.19 5.52-1.21 0-2.24-1.12-3.08-3.36-.56-2.05-1.12-4.1-1.68-6.16-.62-2.24-1.29-3.36-2-3.36-.16 0-.7.33-1.63.98l-.99-1.26c1.03-.9 2.04-1.81 3.04-2.71 1.37-1.18 2.4-1.8 3.09-1.86 1.62-.16 2.62.95 2.99 3.32.4 2.56.69 4.15.84 4.77.47 2.12.98 3.18 1.54 3.18.44 0 1.09-.69 1.96-2.06.87-1.38 1.34-2.42 1.4-3.14.12-1.19-.34-1.78-1.4-1.78-.5 0-1.01.11-1.54.34 1.02-3.35 2.98-4.98 5.86-4.88 2.14.05 3.15 1.43 3.03 4.14z"}),(0,r.createElement)("path",{d:"m0 0h24v24h-24z",fill:"none"})),p.single_image=(0,r.createElement)("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)("path",{d:"m19.8 19.2h-15.6c-1 0-1.8-.8-1.8-1.8v-10.8c0-1 .8-1.8 1.8-1.8h15.6c1 0 1.8.8 1.8 1.8v10.8c0 1-.8 1.8-1.8 1.8zm-13.2-12.3c-1.16 0-2.1.94-2.1 2.1s.94 2.1 2.1 2.1 2.1-.94 2.1-2.1-.94-2.1-2.1-2.1zm-1.8 9.9h14.4v-4.2l-3.28-3.28c-.18-.18-.46-.18-.64 0l-5.08 5.08-2.08-2.08c-.18-.18-.46-.18-.64 0l-2.68 2.68z"}),(0,r.createElement)("path",{d:"m0 0h24v24h-24z",fill:"none"})),p.triptych=(0,r.createElement)("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)("path",{d:"m7 17h-6.3c-.4 0-.7-.5-.7-1.2v-7.6c0-.7.3-1.2.7-1.2h6.3c.4 0 .7.6.7 1.3v7.5c0 .7-.3 1.2-.7 1.2zm-5.3-8.6c-.5 0-.8.7-.8 1.5s.4 1.5.8 1.5.8-.7.8-1.5-.4-1.5-.8-1.5zm-.7 6.9h5.8v-2.9l-1.3-2.3c-.1-.1-.2-.1-.3 0l-2 3.5-.8-1.4c-.1-.1-.2-.1-.3 0l-1.1 1.9z"}),(0,r.createElement)("path",{d:"m15.1 17h-6.2c-.4 0-.7-.6-.7-1.3v-7.5c0-.7.3-1.2.7-1.2h6.2c.4 0 .7.6.7 1.3v7.5c0 .7-.3 1.2-.7 1.2zm-5.3-8.6c-.4 0-.8.7-.8 1.5s.4 1.5.8 1.5c.5 0 .8-.7.8-1.5.1-.8-.3-1.5-.8-1.5zm-.7 6.9h5.8v-2.9l-1.3-2.3c-.1-.1-.2-.1-.3 0l-2 3.5-.8-1.4c-.1-.1-.2-.1-.3 0l-1.1 1.9z"}),(0,r.createElement)("path",{d:"m23.3 17h-6.3c-.4 0-.7-.6-.7-1.3v-7.5c0-.7.3-1.2.7-1.2h6.2c.5 0 .8.5.8 1.2v7.5c0 .8-.3 1.3-.7 1.3zm-5.3-8.6c-.5 0-.8.7-.8 1.5s.4 1.5.8 1.5.8-.7.8-1.5-.3-1.5-.8-1.5zm-.7 6.9h5.7v-2.9l-1.3-2.3c-.1-.1-.2-.1-.3 0l-2 3.5-.8-1.4c-.1-.1-.2-.1-.3 0l-1.1 1.9z"}),(0,r.createElement)("path",{d:"m0 0h24v24h-24z",fill:"none"})),p.question=(0,r.createElement)("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)("path",{d:"m12 0c-3.7 0-6.1 1.5-8 4.3-.4.5-.3 1.1.2 1.5l2 1.5c.5.4 1.2.3 1.6-.2 1.2-1.5 2-2.3 3.9-2.3 1.4 0 3.2.9 3.2 2.3 0 1.1-.9 1.6-2.3 2.4-1.7.9-3.9 2.1-3.9 5v.5c0 .6.5 1.1 1.1 1.1h3.4c.6 0 1.1-.5 1.1-1.1v-.3c0-2 5.9-2.1 5.9-7.5 0-4.1-4.2-7.2-8.2-7.2zm-.4 17.5c-1.8 0-3.2 1.5-3.2 3.2 0 1.8 1.5 3.2 3.2 3.2s3.2-1.5 3.2-3.2-1.5-3.2-3.2-3.2z"}),(0,r.createElement)("path",{d:"m0 0h24v24h-24z",fill:"none"})),p.heading=(0,r.createElement)("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)("path",{d:"m21.6 4v16h1.6c.4 0 .8.4.8.8v1.6c0 .4-.4.8-.8.8h-8c-.4 0-.8-.4-.8-.8v-1.6c0-.4.4-.8.8-.8h1.6v-6.4h-9.6v6.4h1.6c.4 0 .8.4.8.8v1.6c0 .4-.4.8-.8.8h-8c-.4 0-.8-.4-.8-.8v-1.6c0-.4.4-.8.8-.8h1.6v-16h-1.6c-.4 0-.8-.4-.8-.8v-1.6c0-.4.4-.8.8-.8h8c.4 0 .8.4.8.8v1.6c0 .4-.4.8-.8.8h-1.6v6.4h9.6v-6.4h-1.6c-.4 0-.8-.4-.8-.8v-1.6c0-.4.4-.8.8-.8h8c.4 0 .8.4.8.8v1.6c0 .4-.4.8-.8.8z"}),(0,r.createElement)("path",{d:"m0 0h24v24h-24z",fill:"none"}));var v=p,w=window.wp.compose,f=window.wp.url,E=window.wp.coreData;function b(e){let{temporaryURL:t,attributes:{url:i="",alt:a,caption:l,align:o,alignCaption:c,id:s,href:h,rel:p,linkClass:v,linkDestination:b,title:x,width:_,height:k,designWidth:z,designHeight:C,linkTarget:I},setAttributes:R,isSelected:B,insertBlocksAfter:S,onCloseModal:T,onSelectImage:N,onSelectURL:O,onUploadError:P,onImageLoadError:U}=e;const A=(0,r.useRef)(),L=(0,r.useRef)(),F=(0,w.usePrevious)(i),{image:W}=(0,u.useSelect)((e=>{const{getMedia:t}=e(E.store);return{image:s&&B?t(s,{context:"view"}):null}}),[s,B]),[D,j]=(0,r.useState)(!1);(0,r.useEffect)((()=>{i&&!F&&B&&L.current.focus()}),[i,F]),(0,r.useEffect)((()=>{B||j(!1),B&&y(s)&&U()}),[B]);const M=(0,r.createElement)(r.Fragment,null,(0,r.createElement)(m.BlockControls,{group:"block"},(0,r.createElement)(m.BlockAlignmentControl,{value:o,onChange:function(e){const t=["wide","full"].includes(e)?{width:void 0,height:void 0}:{};e||(e="none"),R({...t,align:e})}}),!D&&(0,r.createElement)(m.__experimentalImageURLInputUI,{url:h||"",onChangeUrl:function(e){R(e)},linkDestination:b,mediaUrl:W&&W.source_url||i,mediaLink:W&&W.link,linkTarget:I,linkClass:v,rel:p})),!D&&(0,r.createElement)(m.BlockControls,{group:"other"},(0,r.createElement)(m.MediaReplaceFlow,{mediaId:s,mediaURL:i,allowedTypes:["image"],accept:"image/*",onSelect:N,onSelectURL:O,onError:P,onCloseModal:T})),(0,r.createElement)(m.InspectorControls,null,(0,r.createElement)(d.PanelBody,{title:(0,g.__)("Image settings")},(0,r.createElement)(d.TextareaControl,{label:(0,g.__)("Alt text (alternative text)"),value:a,onChange:function(e){R({alt:e})},help:(0,r.createElement)(r.Fragment,null,(0,r.createElement)(d.ExternalLink,{href:"https://www.w3.org/WAI/tutorials/images/decision-tree"},(0,g.__)("Describe the purpose of the image")),(0,g.__)("Leave empty if the image is purely decorative."))}))),(0,r.createElement)(m.InspectorControls,{__experimentalGroup:"advanced"},(0,r.createElement)(d.TextControl,{label:(0,g.__)("Title attribute"),value:x||"",onChange:function(e){R({title:e})},help:(0,r.createElement)(r.Fragment,null,(0,g.__)("Describe the role of this image on the page."),(0,r.createElement)(d.ExternalLink,{href:"https://www.w3.org/TR/html52/dom.html#the-title-attribute"},(0,g.__)("(Note: many devices and browsers do not display this text.)")))}))),$=(0,r.createElement)(d.Fill,{name:"RichText.ToolbarControls.link"},(0,r.createElement)(m.AlignmentToolbar,{value:c,onChange:e=>R({alignCaption:e})})),H=(0,f.getFilename)(i);let q;q=a||(H?(0,g.sprintf)(
/* translators: %s: file name */
(0,g.__)("This image has an empty alt attribute; its file name is %s"),H):(0,g.__)("This image has an empty alt attribute"));const G=(0,r.createElement)(r.Fragment,null,(0,r.createElement)("img",{src:t||i,alt:q,width:_,height:k,ref:A,"data-design-width":z,"data-design-height":C}),t&&(0,r.createElement)(d.Spinner,null));return(0,r.createElement)(r.Fragment,null,!t&&M,G,B&&$,(!m.RichText.isEmpty(l)||B)&&(0,r.createElement)(m.RichText,{ref:L,tagName:"figcaption","aria-label":(0,g.__)("Image caption text"),placeholder:(0,g.__)("Add caption"),value:l,onChange:e=>R({caption:e}),inlineToolbar:!0,__unstableOnSplitAtEnd:()=>S((0,n.createBlock)("core/paragraph"))}))}function y(e){var t,i;return((null===(t=wp)||void 0===t||null===(i=t.media)||void 0===i?void 0:i.attachment(e))||{}).destroyed}var x=(0,d.withNotices)((function(e){let{attributes:t,setAttributes:i,isSelected:n,className:a,noticeUI:o,insertBlocksAfter:p,noticeOperations:w,onReplace:f,context:E,clientId:x}=e;const{url:_="",alt:k,caption:z,align:C,showCaption:I,alignCaption:R,id:B,imageWidthInsideContainer:S,designWidth:T,designHeight:N}=t,[O,P]=(0,r.useState)(),U=(0,r.useRef)();(0,r.useEffect)((()=>{U.current=k}),[k]);const A=(0,r.useRef)();(0,r.useEffect)((()=>{A.current=z}),[z]);const L=(0,r.useRef)(),{mediaUpload:F}=(0,u.useSelect)((e=>{const{getSettings:t}=e(m.store);return(0,s.pick)(t(),["mediaUpload"])}),[]),W=!!_&&(0,r.createElement)("img",{alt:(0,g.__)("Edit image"),title:(0,g.__)("Edit image"),className:"edit-image-preview",src:_}),D=c()(a,"size-full",{[`align${C}`]:C,"is-transient":O,[`align-caption-${R}`]:R,["has-"+(I?"caption":"no-caption")]:I}),j=(0,m.useBlockProps)({ref:L,className:D}),[M,$]=(0,r.useState)(!1);let H="";function q(e){w.removeAllNotices(),w.createErrorNotice(e),i({src:void 0,id:void 0,url:void 0}),P(void 0)}function G(e){var n,a,l,r,o;if(!e||!e.url)return void i({url:void 0,alt:void 0,id:void 0,title:void 0,caption:void 0});if((0,h.isBlobURL)(e.url))return void P(e.url);P();let c=(e=>{const t=(0,s.pick)(e,["alt","id","link","caption"]);return t.width=(0,s.get)(e,["media_details","width"])||e.width,t.height=(0,s.get)(e,["media_details","height"])||e.height,t.url=(0,s.get)(e,["sizes","full","url"])||(0,s.get)(e,["media_details","sizes","full","source_url"])||e.url,t})(e);if(""!==T&&parseInt(c.width)!==parseInt(T))return void J();if(""!==N&&parseInt(c.height)!==parseInt(N))return void J();A.current&&!(0,s.get)(c,["caption"])&&(c=(0,s.omit)(c,["caption"]));let m,d=t.linkDestination;if(!d)switch((null===(n=wp)||void 0===n||null===(a=n.media)||void 0===a||null===(l=a.view)||void 0===l||null===(r=l.settings)||void 0===r||null===(o=r.defaultProps)||void 0===o?void 0:o.link)||"none"){case"file":case"media":d="media";break;case"post":case"attachment":d="attachment";break;case"custom":d="custom";break;case"none":d="none"}switch(d){case"media":m=e.url;break;case"attachment":m=e.link}c.href=m,i({...c,linkDestination:d})}function J(){$(!0)}(N||T)&&(N&&(H="Required image size is "+N+"px tall."),T&&(H="Required image size is "+T+"px wide."),N&&T&&(H="Required image size is "+T+"px wide by "+N+"px tall."));let V=((e,t)=>!e&&(0,h.isBlobURL)(t))(B,_);(0,r.useEffect)((()=>{if(!V)return;const e=(0,h.getBlobByURL)(_);e&&F({filesList:[e],onFileChange:e=>{let[t]=e;G(t)},allowedTypes:["image"],onError:e=>{V=!1,q(e)}})}),[]);const Z=S?{style:{width:S}}:{};return(0,r.createElement)(r.Fragment,null,(0,r.createElement)("figure",l({},j,Z),(O||_)&&(0,r.createElement)(b,{temporaryURL:O,attributes:t,setAttributes:i,isSelected:n,insertBlocksAfter:p,onReplace:f,onSelectImage:G,onUploadError:q,containerRef:L,context:E,clientId:x,onCloseModal:function(){y(null==t?void 0:t.id)&&i({url:void 0,id:void 0})},onImageLoadError:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e||i({url:void 0,id:void 0})}}),M&&(0,r.createElement)(d.Modal,{isOpen:M,onRequestClose:function(){$(!1)},contentLabel:"Error",title:"Error"},"Image must be ",T,"px wide.",(0,r.createElement)("br",null),"Image must be ",N,"px tall.",(0,r.createElement)("br",null),"Choose another image."),(0,r.createElement)(m.MediaPlaceholder,{accept:"image/*",allowedTypes:["image"],className:"resource-blocks-image-constrained-media-placeholder",disableDropZone:!0,disableMediaButtons:O||_,icon:(0,r.createElement)(m.BlockIcon,{icon:v.single_image}),labels:{title:(0,g.__)("Image [Size Constrained]"),instructions:(0,g.sprintf)(
/* translators: %1$s: heightWidthInstructions */
(0,g.__)("Upload an image file, or pick one from the media library. %1$s"),H)},multiple:!1,mediaPreview:W,notices:o,onError:q,onFilesPreUpload:()=>{console.log("onFilesPreUpload")},onSelect:G,value:{id:B}}),(0,r.createElement)(m.InspectorControls,null,(0,r.createElement)(d.PanelBody,{title:(0,g.__)("Image attributes")},(O||_)&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(d.PanelRow,{className:"image-attributes-heading"},"Image caption"),(0,r.createElement)(d.PanelRow,null,(0,r.createElement)(d.ToggleControl,{label:"Display Image Caption?",help:I?"Display the image caption.":"Do not display the image caption.",checked:I,onChange:e=>{i({showCaption:e})}}))),(0,r.createElement)(d.PanelRow,{className:"image-attributes-heading"},"Required image size (in pixels)"),(0,r.createElement)(d.PanelRow,null,(0,r.createElement)(d.TextControl,{label:(0,g.__)("Width (px)"),value:T||"",onChange:function(e){i({designWidth:e})},type:"number",className:"image-sizing-text-control"}),(0,r.createElement)(d.TextControl,{label:(0,g.__)("Height (px)"),value:N||"",onChange:function(e){i({designHeight:e})},type:"number",className:"image-sizing-text-control"})),(0,r.createElement)(d.PanelRow,{className:"image-attributes-heading"},"Image container width (figure)"),(0,r.createElement)(d.PanelRow,null,(0,r.createElement)(d.TextControl,{label:(0,g.__)("Width (auto, %, px, rem, etc.)"),value:S||"",onChange:function(e){i({imageWidthInsideContainer:e})},className:"image-attributes-text-control"}))))))}));function _(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return!(""!==i&&parseInt(i)!==parseInt(e)||""!==n&&parseInt(n)!==parseInt(t))}const{name:k,...z}=a;wp.media.view.Modal.prototype.on("open",(function(){const e=wp.data.select("core/block-editor").getSelectedBlock();if(e&&"resource-blocks/image-constrained"===e.name){const t=e.attributes.designWidth,i=e.attributes.designHeight,n=wp.media.view.Attachment.prototype.trigger;wp.media.view.Attachment.prototype.trigger=function(){"ready"===arguments[0]&&(_(this.model.attributes.width,this.model.attributes.height,t,i)||this.$el.addClass("resource-disabled")),n.apply(this,Array.prototype.slice.call(arguments))}}})),(0,n.registerBlockType)(k,{...z,icon:v.single_image,edit:x,save:function(e){let{attributes:t}=e;const{url:i,alt:n,caption:a,align:o,showCaption:h,alignCaption:d,href:u,rel:g,linkClass:p,width:v,imageWidthInsideContainer:w,height:f,designWidth:E,designHeight:b,id:y,linkTarget:x,title:_}=t,k=(0,s.isEmpty)(g)?void 0:g,z=c()("size-full",{[`align${o}`]:o,[`align-caption-${d}`]:d,["has-"+(h?"caption":"no-caption")]:h}),C=(0,r.createElement)("img",{src:i,alt:n,className:y?`wp-image-${y}`:null,width:v,height:f,title:_,"data-design-width":E,"data-design-height":b}),I=(0,r.createElement)(r.Fragment,null,u?(0,r.createElement)("a",{className:p,href:u,target:x,rel:k},C):C,!m.RichText.isEmpty(a)&&(0,r.createElement)(m.RichText.Content,{tagName:"figcaption",value:a})),R=w?{style:{width:w}}:{};return(0,r.createElement)("figure",l({},m.useBlockProps.save({className:z}),R),I)}})},184:function(e,t){var i;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var l=typeof i;if("string"===l||"number"===l)e.push(i);else if(Array.isArray(i)){if(i.length){var r=a.apply(null,i);r&&e.push(r)}}else if("object"===l)if(i.toString===Object.prototype.toString)for(var o in i)n.call(i,o)&&i[o]&&e.push(o);else e.push(i.toString())}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(i=function(){return a}.apply(t,[]))||(e.exports=i)}()}},i={};function n(e){var a=i[e];if(void 0!==a)return a.exports;var l=i[e]={exports:{}};return t[e](l,l.exports,n),l.exports}n.m=t,e=[],n.O=function(t,i,a,l){if(!i){var r=1/0;for(h=0;h<e.length;h++){i=e[h][0],a=e[h][1],l=e[h][2];for(var o=!0,c=0;c<i.length;c++)(!1&l||r>=l)&&Object.keys(n.O).every((function(e){return n.O[e](i[c])}))?i.splice(c--,1):(o=!1,l<r&&(r=l));if(o){e.splice(h--,1);var s=a();void 0!==s&&(t=s)}}return t}l=l||0;for(var h=e.length;h>0&&e[h-1][2]>l;h--)e[h]=e[h-1];e[h]=[i,a,l]},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={135:0,75:0};n.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,l,r=i[0],o=i[1],c=i[2],s=0;if(r.some((function(t){return 0!==e[t]}))){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(c)var h=c(n)}for(t&&t(i);s<r.length;s++)l=r[s],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(h)},i=self.webpackChunkresource_blocks=self.webpackChunkresource_blocks||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var a=n.O(void 0,[75],(function(){return n(889)}));a=n.O(a)}();
!function(){var e,t={35:function(e,t,r){"use strict";var i=window.wp.blocks,n=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"resource-blocks/single-image","version":"1.0.0","title":"Single Image","category":"resource-blocks","attributes":{"required_width":{"type":"number"},"required_height":{"type":"number"},"instructions":{"type":"string","default":""},"url":{"type":"string","source":"attribute","selector":"img","attribute":"src"},"alt":{"type":"string","source":"attribute","selector":"img","attribute":"alt","default":""},"title":{"type":"string","source":"attribute","selector":"img","attribute":"title"},"id":{"type":"number"},"width":{"type":"number"},"height":{"type":"number"}},"supports":{"anchor":false,"color":{"text":false,"background":false}},"example":{"attributes":{"cover":"https://example.com/image.jpg"}},"textdomain":"resource-blocks","parent":["resource-blocks/two-column-images"],"editorScript":"file:../../../../build/single-image.js","editorStyle":"file:../../../../build/single-image.css","style":"file:../../../../build/style-single-image.css"}'),l=window.wp.element,o=r(184),a=r.n(o),c=window.lodash,s=window.wp.blob,u=window.wp.components,d=window.wp.data,m=window.wp.blockEditor,h=window.wp.i18n;const v={};v.resource=(0,l.createElement)("svg",{height:"20",viewBox:"0 0 11 20",width:"11",xmlns:"http://www.w3.org/2000/svg"},(0,l.createElement)("g",{fill:"#231f20"},(0,l.createElement)("path",{d:"m2.4 17.96h.38l.93 2.04h-.48l-.18-.43h-.93l-.18.43h-.46zm-.13 1.26h.63l-.3-.72h-.02c0-.01-.31.72-.31.72z"}),(0,l.createElement)("path",{d:"m4.59 17.96h1.88v.39h-.72v1.65h-.44v-1.65h-.72z"}),(0,l.createElement)("path",{d:"m8.34 17.96v1.65h1.18v.39h-1.61v-2.04z"}),(0,l.createElement)("path",{d:"m1.48 15.26h8.04v.52h-8.04z"}),(0,l.createElement)("path",{d:"m0 .03c1.21.03 2.75-.03 4.24-.03 2.03 0 4.41.39 4.41 2.91 0 1.38-1.16 2.85-3.27 2.94 1.53.16 2.34.88 2.84 2.46.75 2.31 1.18 3.03 2.72 2.97l.06.22c-.47.24-.99.35-1.52.33-1.6 0-2.4-1.35-2.88-3.13-.63-2.34-1.91-2.61-3.54-2.61v1.45c0 1.36.03 2.88.03 2.88 0 .54.21.66.88.75l.88.11v.35h-4.85v-.35l.74-.11c.46-.08.74-.21.74-.75 0 0 .01-.72.01-2.88v-3.57c0-1.25-.01-2.17-.01-2.74 0-.54-.28-.67-.74-.75l-.74-.11zm3.06 5.64h.87c2.23 0 3.09-1.08 3.09-2.71 0-2.05-1.6-2.4-3.07-2.4-.3-.01-.59.02-.88.06-.01 0-.01 5.05-.01 5.05z"}))),v.intro_paragraph=(0,l.createElement)("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},(0,l.createElement)("path",{d:"m23.1 0c.5 0 .9.4.9.9v5.1c0 .5-.4.9-.9.9h-1.7c-.5 0-.9-.4-.9-.9v-1.7h-6.4v16.3h2.1c.5 0 .9.4.9.9v1.7c0 .5-.4.9-.9.9h-8.5c-.5 0-.9-.4-.9-.9v-1.7c0-.5.4-.9.9-.9h2.1v-16.3h-6.4v1.7c0 .5-.4.9-.9.9h-1.6c-.5 0-.9-.4-.9-.9v-5.1c0-.5.4-.9.9-.9z"}),(0,l.createElement)("path",{d:"m0 0h24v24h-24z",fill:"none"})),v.body_text=(0,l.createElement)("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},(0,l.createElement)("path",{d:"m.7 17.1h19.1c.4 0 .7-.3.7-.7v-2.1c0-.4-.3-.7-.7-.7h-19.1c-.4.1-.7.4-.7.8v2.1c0 .3.3.6.7.6zm0-13.7h14.1c.4 0 .7-.3.7-.7v-2c0-.4-.3-.7-.7-.7h-14.1c-.4 0-.7.3-.7.7v2.1c0 .3.3.6.7.6zm22.4 3.5h-22.2c-.5 0-.9.3-.9.8v1.7c0 .5.4.9.9.9h22.3c.5 0 .9-.4.9-.9v-1.7c-.1-.5-.5-.8-1-.8zm0 13.7h-22.2c-.5 0-.9.4-.9.8v1.7c0 .5.4.9.9.9h22.3c.5 0 .9-.4.9-.9v-1.7c-.1-.4-.5-.8-1-.8z"}),(0,l.createElement)("path",{d:"m0 0h25v24h-25z",fill:"none"})),v.image_full_width=(0,l.createElement)("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},(0,l.createElement)("path",{d:"m0 0h24v24h-24z",fill:"none"}),(0,l.createElement)("path",{d:"m21.74 19.2h-19.48c-1.25 0-2.26-.8-2.26-1.8v-10.8c0-1 1.01-1.8 2.26-1.8h19.5c1.23 0 2.24.8 2.24 1.8v10.8c0 1-1.01 1.8-2.26 1.8zm-16.48-12.3c-1.46 0-2.63.94-2.63 2.1s1.18 2.1 2.63 2.1 2.61-.94 2.61-2.1-1.17-2.1-2.61-2.1zm-2.26 9.9h18v-4.2l-4.1-3.28c-.22-.18-.58-.18-.79 0l-6.37 5.08-2.6-2.08c-.22-.18-.58-.18-.79 0l-3.35 2.68z"})),v.two_column_images=(0,l.createElement)("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},(0,l.createElement)("path",{d:"m10.87 17.72h-9.74c-.63 0-1.13-.64-1.13-1.43v-8.58c0-.79.5-1.43 1.13-1.43h9.74c.63 0 1.13.64 1.13 1.43v8.58c0 .79-.5 1.43-1.13 1.43zm-8.24-9.78c-.73 0-1.31.75-1.31 1.66 0 .92.59 1.66 1.31 1.66s1.31-.75 1.31-1.66-.59-1.66-1.31-1.66zm-1.13 7.87h9v-3.34l-2.05-2.59c-.11-.14-.29-.14-.4 0l-3.18 4.03-1.3-1.65c-.11-.14-.29-.14-.4 0l-1.67 2.12z"}),(0,l.createElement)("path",{d:"m22.87 17.72h-9.74c-.62 0-1.13-.64-1.13-1.43v-8.58c0-.79.5-1.43 1.13-1.43h9.74c.63 0 1.13.64 1.13 1.43v8.58c0 .79-.5 1.43-1.13 1.43zm-8.24-9.78c-.73 0-1.31.75-1.31 1.66 0 .92.59 1.66 1.31 1.66s1.31-.75 1.31-1.66-.59-1.66-1.31-1.66zm-1.13 7.87h9v-3.34l-2.05-2.61c-.11-.14-.29-.14-.4 0l-3.18 4.03-1.3-1.65c-.11-.14-.29-.14-.4 0l-1.68 2.12z"}),(0,l.createElement)("path",{d:"m0 0h24v24h-24z",fill:"none"})),v.vimeo=(0,l.createElement)("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},(0,l.createElement)("path",{d:"m22.4 7.16c-.09 2.03-1.51 4.8-4.24 8.32-2.84 3.68-5.23 5.52-7.19 5.52-1.21 0-2.24-1.12-3.08-3.36-.56-2.05-1.12-4.1-1.68-6.16-.62-2.24-1.29-3.36-2-3.36-.16 0-.7.33-1.63.98l-.99-1.26c1.03-.9 2.04-1.81 3.04-2.71 1.37-1.18 2.4-1.8 3.09-1.86 1.62-.16 2.62.95 2.99 3.32.4 2.56.69 4.15.84 4.77.47 2.12.98 3.18 1.54 3.18.44 0 1.09-.69 1.96-2.06.87-1.38 1.34-2.42 1.4-3.14.12-1.19-.34-1.78-1.4-1.78-.5 0-1.01.11-1.54.34 1.02-3.35 2.98-4.98 5.86-4.88 2.14.05 3.15 1.43 3.03 4.14z"}),(0,l.createElement)("path",{d:"m0 0h24v24h-24z",fill:"none"})),v.single_image=(0,l.createElement)("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},(0,l.createElement)("path",{d:"m19.8 19.2h-15.6c-1 0-1.8-.8-1.8-1.8v-10.8c0-1 .8-1.8 1.8-1.8h15.6c1 0 1.8.8 1.8 1.8v10.8c0 1-.8 1.8-1.8 1.8zm-13.2-12.3c-1.16 0-2.1.94-2.1 2.1s.94 2.1 2.1 2.1 2.1-.94 2.1-2.1-.94-2.1-2.1-2.1zm-1.8 9.9h14.4v-4.2l-3.28-3.28c-.18-.18-.46-.18-.64 0l-5.08 5.08-2.08-2.08c-.18-.18-.46-.18-.64 0l-2.68 2.68z"}),(0,l.createElement)("path",{d:"m0 0h24v24h-24z",fill:"none"}));var g=v,p=window.wp.url,w=window.wp.primitives,f=(0,l.createElement)(w.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(w.Path,{d:"M18.5 15v3.5H13V6.7l4.5 4.1 1-1.1-6.2-5.8-5.8 5.8 1 1.1 4-4v11.7h-6V15H4v5h16v-5z"})),E=window.wp.notices,b=window.wp.coreData;const _=["image"],y=(e,t)=>t&&!e&&!(0,s.isBlobURL)(t);function z(e){var t,r;return((null===(t=wp)||void 0===t||null===(r=t.media)||void 0===r?void 0:r.attachment(e))||{}).destroyed}function x(e){var t;let{temporaryURL:r,attributes:{url:i="",alt:n,id:o,title:a,width:v,height:g},setAttributes:w,isSelected:x,onCloseModal:S,onSelectImage:k,onSelectURL:B,onUploadError:I,containerRef:L,clientId:R,onImageLoadError:C}=e;const U=(0,l.useRef)(),{image:N,multiImageSelection:O}=(0,d.useSelect)((e=>{const{getMedia:t}=e(b.store),{getMultiSelectedBlockClientIds:r,getBlockName:i}=e(m.store),n=r();return{image:o&&x?t(o):null,multiImageSelection:n.length&&n.every((e=>"core/image"===i(e)))}}),[o,x]),{imageSizes:M,mediaUpload:T}=(0,d.useSelect)((e=>{const{getSettings:t}=e(m.store);return{...(0,c.pick)(t(),["imageSizes","mediaUpload"])}}),[R]),{createErrorNotice:j,createSuccessNotice:A}=(0,d.useDispatch)(E.store),[{loadedNaturalWidth:P,loadedNaturalHeight:W},F]=(0,l.useState)({}),[H,D]=(0,l.useState)(!1),[q,V]=(0,l.useState)(),G=function(e,t){const[r,i]=(0,l.useState)();function n(){i(e.current.clientWidth)}return(0,l.useEffect)(n,[]),(0,l.useEffect)((()=>{const{defaultView:t}=e.current.ownerDocument;return t.addEventListener("resize",n),()=>{t.removeEventListener("resize",n)}}),[]),r}(L);(0,c.map)((0,c.filter)(M,(e=>{let{slug:t}=e;return(0,c.get)(N,["media_details","sizes",t,"source_url"])})),(e=>{let{name:t,slug:r}=e;return{value:r,label:t}})),(0,l.useEffect)((()=>{y(o,i)&&x&&!q&&window.fetch(i).then((e=>e.blob())).then((e=>V(e))).catch((()=>{}))}),[o,i,x,q]);const{naturalWidth:$,naturalHeight:J}=(0,l.useMemo)((()=>{var e,t;return{naturalWidth:(null===(e=U.current)||void 0===e?void 0:e.naturalWidth)||P||void 0,naturalHeight:(null===(t=U.current)||void 0===t?void 0:t.naturalHeight)||W||void 0}}),[P,W,null===(t=U.current)||void 0===t?void 0:t.complete]);(0,l.useEffect)((()=>{x||D(!1),x&&z(o)&&C()}),[x]);const K=(0,l.createElement)(l.Fragment,null,(0,l.createElement)(m.BlockControls,{group:"block"},q&&(0,l.createElement)(u.ToolbarButton,{onClick:function(){T({filesList:[q],onFileChange(e){let[t]=e;k(t),(0,s.isBlobURL)(t.url)||(V(),A((0,h.__)("Image uploaded."),{type:"snackbar"}))},allowedTypes:_,onError(e){j(e,{type:"snackbar"})}})},icon:f,label:(0,h.__)("Upload external image")})),!O&&!H&&(0,l.createElement)(m.BlockControls,{group:"other"},(0,l.createElement)(m.MediaReplaceFlow,{mediaId:o,mediaURL:i,allowedTypes:_,accept:"image/*",onSelect:k,onSelectURL:B,onError:I,onCloseModal:S})),(0,l.createElement)(m.InspectorControls,null,(0,l.createElement)(u.PanelBody,{title:(0,h.__)("Image settings")},!O&&(0,l.createElement)(u.TextareaControl,{label:(0,h.__)("Alt text (alternative text)"),value:n,onChange:function(e){w({alt:e})},help:(0,l.createElement)(l.Fragment,null,(0,l.createElement)(u.ExternalLink,{href:"https://www.w3.org/WAI/tutorials/images/decision-tree"},(0,h.__)("Describe the purpose of the image")),(0,h.__)("Leave empty if the image is purely decorative."))}))),(0,l.createElement)(m.InspectorControls,{__experimentalGroup:"advanced"},(0,l.createElement)(u.TextControl,{label:(0,h.__)("Title attribute"),value:a||"",onChange:function(e){w({title:e})},help:(0,l.createElement)(l.Fragment,null,(0,h.__)("Describe the role of this image on the page."),(0,l.createElement)(u.ExternalLink,{href:"https://www.w3.org/TR/html52/dom.html#the-title-attribute"},(0,h.__)("(Note: many devices and browsers do not display this text.)")))}))),Q=(0,p.getFilename)(i);let X;X=n||(Q?(0,h.sprintf)(
/* translators: %s: file name */
(0,h.__)("This image has an empty alt attribute; its file name is %s"),Q):(0,h.__)("This image has an empty alt attribute"));let Y,Z,ee=(0,l.createElement)(l.Fragment,null,(0,l.createElement)("img",{src:r||i,alt:X,onLoad:e=>{var t,r;F({loadedNaturalWidth:null===(t=e.target)||void 0===t?void 0:t.naturalWidth,loadedNaturalHeight:null===(r=e.target)||void 0===r?void 0:r.naturalHeight})},ref:U}),r&&(0,l.createElement)(u.Spinner,null));if(G&&$&&J){const e=$>G,t=J/$;Y=e?G:$,Z=e?G*t:J}return ee=(0,l.createElement)("figure",{style:{width:v,height:g}},ee),(0,l.createElement)(m.__experimentalImageEditingProvider,{id:o,url:i,naturalWidth:$,naturalHeight:J,clientWidth:G,onSaveImage:e=>w(e),isEditing:H,onFinishEditing:()=>D(!1)},!r&&K,ee)}const S=["image"];var k=(0,u.withNotices)((function(e){let{attributes:t,setAttributes:r,isSelected:i,className:n,noticeUI:o,insertBlocksAfter:v,noticeOperations:p,onReplace:w,context:f,clientId:E}=e;const{required_width:b,required_height:_,instructions:k,url:B="",alt:I,id:L,width:R,height:C}=t,[U,N]=(0,l.useState)(),O=(0,l.useRef)();(0,l.useEffect)((()=>{O.current=I}),[I]);const M=(0,l.useRef)(),{imageDefaultSize:T,mediaUpload:j}=(0,d.useSelect)((e=>{const{getSettings:t}=e(m.store);return(0,c.pick)(t(),["imageDefaultSize","mediaUpload"])}),[]);function A(){z(null==t?void 0:t.id)&&r({url:void 0,id:void 0})}function P(e){p.removeAllNotices(),p.createErrorNotice(e)}function W(e){var t;if(!e||!e.url)return void r({url:void 0,alt:void 0,id:void 0,title:void 0});if((0,s.isBlobURL)(e.url))return void N(e.url);N();const i=((e,t)=>{const r=(0,c.pick)(e,["alt","id"]);return r.url=(0,c.get)(e,["sizes",t,"url"])||(0,c.get)(e,["media_details","sizes",t,"source_url"])||e.url,r})(e,T);let n;n=e.id&&e.id===L?{url:B}:{width:void 0,height:void 0},(null!==(t=e.width)&&void 0!==t?t:e.media_details.width)===b?r({...i,...n}):H(!0)}const[F,H]=(0,l.useState)(!1);let D=((e,t)=>!e&&(0,s.isBlobURL)(t))(L,B);(0,l.useEffect)((()=>{if(!D)return;const e=(0,s.getBlobByURL)(B);e&&j({filesList:[e],onFileChange:e=>{let[t]=e;W(t)},allowedTypes:S,onError:e=>{D=!1,p.createErrorNotice(e),r({src:void 0,id:void 0,url:void 0})}})}),[]),(0,l.useEffect)((()=>{D?N(B):(0,s.revokeBlobURL)(U)}),[D,B]);const q=y(L,B)?B:void 0,V=!!B&&(0,l.createElement)("img",{alt:(0,h.__)("Edit image"),title:(0,h.__)("Edit image"),className:"edit-image-preview",src:B}),G=a()(n,"resource-blocks-column",{"is-transient":U,"is-resized":!!R||!!C}),$=(0,m.useBlockProps)({ref:M,className:G});return(0,l.createElement)("div",$,(U||B)&&(0,l.createElement)(x,{temporaryURL:U,attributes:t,setAttributes:r,isSelected:i,insertBlocksAfter:v,onReplace:w,onSelectImage:W,onSelectURL:function(e){e!==B&&r({url:e,id:void 0,width:void 0,height:void 0})},onUploadError:P,containerRef:M,context:f,clientId:E,onCloseModal:A,onImageLoadError:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e||r({url:void 0,id:void 0})}}),F&&(0,l.createElement)(u.Modal,{isOpen:F,onRequestClose:function(){H(!1)},contentLabel:"Error",title:"Error"},(0,l.createElement)("p",null,"Image must be ",b,"px wide! Choose another image.")),(0,l.createElement)(m.MediaPlaceholder,{icon:(0,l.createElement)(m.BlockIcon,{icon:g.single_image}),onSelect:W,notices:o,onError:P,onClose:A,accept:"image/*",allowedTypes:S,value:{id:L,src:q},mediaPreview:V,labels:{title:"Single Image",instructions:k},disableMediaButtons:U||B}))}));const{name:B,...I}=n;(0,i.registerBlockType)(B,{...I,icon:g.single_image,edit:k,save:function(e){let{attributes:t}=e;const{url:r,alt:i,width:n,height:o,id:c,title:s}=t,u=a()("resource-blocks-column"),d=(0,l.createElement)("img",{src:r,alt:i,className:c?`wp-image-${c}`:"",width:n,height:o,title:s}),h=(0,l.createElement)("figure",null,d);return(0,l.createElement)("div",m.useBlockProps.save({className:u}),h)}})},184:function(e,t){var r;!function(){"use strict";var i={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var l=typeof r;if("string"===l||"number"===l)e.push(r);else if(Array.isArray(r)){if(r.length){var o=n.apply(null,r);o&&e.push(o)}}else if("object"===l)if(r.toString===Object.prototype.toString)for(var a in r)i.call(r,a)&&r[a]&&e.push(a);else e.push(r.toString())}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(r=function(){return n}.apply(t,[]))||(e.exports=r)}()}},r={};function i(e){var n=r[e];if(void 0!==n)return n.exports;var l=r[e]={exports:{}};return t[e](l,l.exports,i),l.exports}i.m=t,e=[],i.O=function(t,r,n,l){if(!r){var o=1/0;for(u=0;u<e.length;u++){r=e[u][0],n=e[u][1],l=e[u][2];for(var a=!0,c=0;c<r.length;c++)(!1&l||o>=l)&&Object.keys(i.O).every((function(e){return i.O[e](r[c])}))?r.splice(c--,1):(a=!1,l<o&&(o=l));if(a){e.splice(u--,1);var s=n();void 0!==s&&(t=s)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[r,n,l]},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={305:0,527:0};i.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,l,o=r[0],a=r[1],c=r[2],s=0;if(o.some((function(t){return 0!==e[t]}))){for(n in a)i.o(a,n)&&(i.m[n]=a[n]);if(c)var u=c(i)}for(t&&t(r);s<o.length;s++)l=o[s],i.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return i.O(u)},r=self.webpackChunkresource_blocks=self.webpackChunkresource_blocks||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var n=i.O(void 0,[527],(function(){return i(35)}));n=i.O(n)}();